!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.gv=e():t.gv=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,r){function i(t){function e(){m=m.slice(0,o)}function i(t){c.each(t,function(t,e){if("PageHeader"===t.Type&&(globalTitle=t.Title,document.getElementById("gvPageHead").innerHTML=t.Title),"Standfirst"===t.Type&&(document.getElementById("standfirstHolder").innerHTML=t.Copy),"GlobalSection"===t.Type&&v(y(t.Title)),"Section"===t.Type){var n=g(t);document.getElementById("gvPageSectionHead").innerHTML=n}});var e=document.getElementsByClassName("dig-global-date-container");[].forEach.call(e,function(t){t.innerHTML=s})}function g(t){return"<a href='"+t.Link+"'>"+t.Title+"</a>"}function v(){document.getElementById("filterArea").style.background=baseColor,document.getElementById("filterAreaBG").style.background=baseColor,document.getElementById("featureAreaBG").style.background=x(baseColor,P),document.getElementById("featureArea").style.background=x(baseColor,P);var t=document.getElementsByClassName("dig-filters__filter__link__circle");c.each(t,function(t){t.style.color=baseColor})}function y(t){var e="#194377";return c.each(t,function(t,n){var r=t.Title;"GlobalSection"==t.Type&&("culture"==r&&(e="#951c55"),"comment"==r&&(e="#c05303"),"multimedia"==r&&(e="#484848"),"sport"==r&&(e="#1C4A00"))}),e}function b(t){var e=0;return c.each(t,function(n,r){n.displaycount=r+1,n.rankResize=t.length+1-n.number,n.bandInfo={typeSize:1,colorBand:baseColor},n.numSize=.75*n.typeSize,n.imgPath=n.imagePath,n.socialTwitter=encodeURIComponent("Guardian review "+n.number+" "+n.title),n.detailImgPath=n.imagePath,e+=n.lineH,n.positioner=e,n.imageBoolean=""===n.imgPath}),t}function w(){v(),i(copyData)}function x(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,r,i="#";for(r=0;3>r;r++)n=parseInt(t.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),i+=("00"+n).substr(n.length);return i}function k(){var t=document.getElementsByClassName("gv-buy-book-button");c.each(t,function(t){document.getElementById(t.id).addEventListener("click",function(e){e.preventDefault();var n=t.id,r=n.split("_"),i=dataset[parseInt(r[1])];window.open(i.buyBookLink,"_blank")})}),E(),_()}function _(){var t=document.getElementsByClassName("js-filter");c.each(t,function(t){t.addEventListener("click",function(e){var n=t.getAttribute("data-section");e.preventDefault(),f(document.getElementById("row_"+(n-2)))})});var e=document.getElementsByClassName("backToTop");c.each(e,function(t){t.addEventListener("click",function(t){t.preventDefault(),f(document.getElementById("pageTop"))})})}function E(){var t=document.getElementsByClassName("atom-share");c.each(t,function(t){document.getElementById(t.id).addEventListener("click",function(){A(this)})});var e=document.getElementsByClassName("js-share");c.each(e,function(t){document.getElementById(t.id).addEventListener("click",function(){S(this)})})}function A(t){var e,r=t.id,i=t.getAttribute("data-network"),o=r.split("_");c.each(copyData,function(t,n){"PageHeader"==t.Type&&(e=String(t.Title))}),n=o[1],h(i,e,dataset[n])}function S(t){var e,n=t.getAttribute("data-network");c.each(copyData,function(t,n){"PageHeader"==t.Type&&(e=String(t.Title))}),d(n,e)}s=l();var C=new a({el:t,template:r(11),data:{},components:{filters:r(12),filterFeature:r(14),fixedFilters:r(16),metaContainer:r(18),subView:r(20),backToTop:r(22)},updateView:function(t){copyData=t.sheets.standfirstAndTitle,baseColor=y(copyData),dataset=b(t.sheets.listEntries),o=Math.ceil(dataset.length/10),C.set("entries",dataset),C.set("copyEntries",copyData),e(),C.set("sectionIds",m),w(),k()}}),T=p(),O="https://interactive.guim.co.uk/docsdata/"+T+".json",P=.075;u(O,C.updateView)}var o,s,a=r(1),u=r(2),c=r(3),h=r(4),l=r(5),d=r(6),f=r(7),p=(r(8),r(9)),m=(r(10),["A","B","C","D","E","F","G","H","I","J"]);t.exports={boot:i}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];for(var i,o;o=n.shift();)for(i in o)Ta.call(o,i)&&(t[i]=o[i]);return t}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function o(t){return"[object Array]"===Oa.call(t)}function s(t){return Pa.test(Oa.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===Oa.call(t)}function h(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];throw t=h(t,n),new Error(t)}function d(){$b.DEBUG&&Aa.apply(null,arguments)}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=h(t,n),Sa(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=h(t,n),Fa[t]||(Fa[t]=!0,Sa(t,n))}function m(){$b.DEBUG&&f.apply(null,arguments)}function g(){$b.DEBUG&&p.apply(null,arguments)}function v(t,e,n){var r=y(t,e,n);return r?r[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function b(t){return function(){return t}}function w(t){var e,n,r,i,o,s;for(e=t.split("."),(n=Ua[e.length])||(n=x(e.length)),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)s=n[i].map(r).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}function x(t){var e,n,r,i,o,s,a,u,c="";if(!Ua[t]){for(r=[];c.length<t;)c+=1;for(e=parseInt(c,2),i=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,s=0;a>s;s++)u.push(i(n[s]));r[o]=u}Ua[t]=r}return Ua[t]}function k(t,e,n,r){var i=t[e];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return t[e]=i?i.replace(n,r):r,!0}function _(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function E(t){return null==t?t:(qa.hasOwnProperty(t)||(qa[t]=new Ha(t)),qa[t])}function A(t,e){function n(e,n){var r,i,s;return n.isRoot?s=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(r=t.viewmodel.wrapped[n.str],i=r?r.get():t.viewmodel.get(n),s=i?Object.keys(i):null),s&&s.forEach(function(t){"_ractive"===t&&o(i)||e.push(n.join(t))}),e}var r,i,s;for(r=e.str.split("."),s=[Ga];i=r.shift();)"*"===i?s=s.reduce(n,[]):s[0]===Ga?s[0]=E(i):s=s.map(S(i));return s}function S(t){return function(e){return e.join(t)}}function C(t){return t?t.replace(za,".$1"):""}function T(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(e))return i={},A(t,E(C(e))).forEach(function(e){var r=t.viewmodel.get(e);if(!u(r))throw new Error(Za);i[e.str]=r+n}),t.set(i);if(r=t.get(e),!u(r))throw new Error(Za);return t.set(e,+r+n)}function O(t,e){return Ka(this,t,void 0===e?1:+e)}function P(t){this.event=t,this.method="on"+t,this.deprecate=tu[t]}function j(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function F(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!0;return!1}function R(t,e){var n;if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function I(t){return"string"==typeof t?[t]:void 0===t?[]:t}function L(t){return t[t.length-1]}function N(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function D(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function M(t){setTimeout(t,0)}function V(t,e){return function(){for(var n;n=t.shift();)n(e)}}function B(t,e,n,r){var i;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof eu)e.then(n,r);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{i=e.then}catch(o){return void r(o)}if("function"==typeof i){var s,a,u;a=function(e){s||(s=!0,B(t,e,n,r))},u=function(t){s||(s=!0,r(t))};try{i.call(e,a,u)}catch(o){if(!s)return r(o),void(s=!0)}}else n(e)}}function U(t,e,n){var r;return e=C(e),"~/"===e.substr(0,2)?(r=E(e.substring(2)),q(t,r.firstKey,n)):"."===e[0]?(r=z(au(n),e),r&&q(t,r.firstKey,n)):r=W(t,E(e),n),r}function z(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return E(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),E(n.join("."))}return E(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function W(t,e,n,r){var i,o,s,a,u;if(e.isRoot)return e;for(o=e.firstKey;n;)if(i=n.context,n=n.parent,i&&(a=!0,s=t.viewmodel.get(i),s&&("object"==typeof s||"function"==typeof s)&&o in s))return i.join(e.str);return H(t.viewmodel,o)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,o=E(o),u=W(t.parent,o,n,!0))?(t.viewmodel.map(o,{origin:t.parent.viewmodel,keypath:u}),e):r||a?void 0:(t.viewmodel.set(e,void 0),e)}function q(t,e){var n;!t.parent||t.isolated||H(t.viewmodel,e)||(e=E(e),(n=W(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function H(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function $(t){t.teardown()}function G(t){t.unbind()}function K(t){t.unrender()}function Z(t){t.cancel()}function Q(t){t.detach()}function J(t){t.detachNodes()}function Y(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function X(){for(var t,e,n;hu.ractives.length;)e=hu.ractives.pop(),n=e.viewmodel.applyChanges(),n&&pu.fire(e,n);for(tt(),t=0;t<hu.views.length;t+=1)hu.views[t].update();for(hu.views.length=0,t=0;t<hu.tasks.length;t+=1)hu.tasks[t]();return hu.tasks.length=0,hu.ractives.length?X():void 0}function tt(){var t,e,n,r;for(t=fu.length;t--;)e=fu[t],e.keypath?fu.splice(t,1):(n=uu(e.root,e.ref,e.parentFragment))&&((r||(r=[])).push({item:e,keypath:n}),fu.splice(t,1));r&&r.forEach(et)}function et(t){t.item.resolve(t.keypath)}function nt(t,e,n){var r,i,o,s,a,u,c,h,l,d,f,p,m,g;if(r=new su(function(t){return i=t}),"object"==typeof t){n=e||{},u=n.easing,c=n.duration,a=[],h=n.step,l=n.complete,(h||l)&&(f={},n.step=null,n.complete=null,d=function(t){return function(e,n){f[t]=n}});for(o in t)t.hasOwnProperty(o)&&((h||l)&&(p=d(o),n={easing:u,duration:c},h&&(n.step=p)),n.complete=l?p:ja,a.push(rt(this,o,t[o],n)));return g={easing:u,duration:c},h&&(g.step=function(t){return h(t,f)}),l&&r.then(function(t){return l(t,f)}),g.complete=i,m=rt(this,null,null,g),a.push(m),r.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,s=rt(this,t,e,n),r.stop=function(){return s.stop()},r}function rt(t,e,n,r){var i,o,s,u;return e&&(e=E(C(e))),null!==e&&(u=t.viewmodel.get(e)),yu.abort(e,t),a(u,n)?(r.complete&&r.complete(r.to),ku):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),o=void 0===r.duration?400:r.duration,s=new wu({keypath:e,from:u,to:n,root:t,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),yu.add(s),t._animations.push(s),s)}function it(){return this.detached?this.detached:(this.el&&N(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Eu.fire(this),this.detached)}function ot(t){return this.el?this.fragment.find(t):null}function st(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?da(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function at(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ut(t){var e,n;for(e=[t],n=at(t);n;)e.push(n),n=at(n);return e}function ct(t,e,n,r){var i=[];return ka(i,{selector:{value:e},live:{value:n},_isComponentQuery:{value:r},_test:{value:Su}}),n?(ka(i,{cancel:{value:Cu},_root:{value:t},_sort:{value:Pu},_makeDirty:{value:ju},_remove:{value:Fu},_dirty:{value:!1,writable:!0}}),i):i}function ht(t,e){var n,r;return this.el?(e=e||{},n=this._liveQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Ru(this,t,!!e.live,!1),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r)):[]}function lt(t,e){var n,r;return e=e||{},n=this._liveComponentQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Ru(this,t,!!e.live,!0),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r)}function dt(t){return this.fragment.findComponent(t)}function ft(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function mt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var r=E(e).wildcardMatches();gt(t,r,n.event,n.args,!0)}}function gt(t,e,n,r){var i,o,s=void 0===arguments[4]?!1:arguments[4],a=!0;for(Bu.enqueue(t,n),o=e.length;o>=0;o--)i=t._subs[e[o]],i&&(a=vt(t,i,n,r)&&a);if(Bu.dequeue(t),t.parent&&a){if(s&&t.component){var u=t.component.name+"."+e[e.length-1];e=E(u).wildcardMatches(),n&&(n.component=t)}gt(t.parent,e,n,r)}}function vt(t,e,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r)),e=e.slice();for(var s=0,a=e.length;a>s;s+=1)e[s].apply(t,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function yt(t){var e={args:Array.prototype.slice.call(arguments,1)};Uu(this,t,e)}function bt(t){var e;return t=E(C(t)),e=this.viewmodel.get(t,qu),void 0===e&&this.parent&&!this.isolated&&uu(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function wt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){$u.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function kt(t,e,n){var r,i;return t=E(C(t)),r=this.viewmodel.get(t),o(r)&&o(e)?(i=mu.start(this,!0),this.viewmodel.merge(t,r,e,n),mu.end(),i):this.set(t,e,n&&n.complete)}function _t(t,e){var n,r;return n=A(t,e),r={},n.forEach(function(e){r[e.str]=t.get(e.str)}),r}function Et(t,e,n,r){var i,o,s;e=E(C(e)),r=r||ac,e.isPattern?(i=new oc(t,e,n,r),t.viewmodel.patternObservers.push(i),o=!0):i=new Qu(t,e,n,r),i.init(r.init),t.viewmodel.register(e,i,o?"patternObservers":"observers"),i.ready=!0;var a={cancel:function(){var n;s||(o?(n=t.viewmodel.patternObservers.indexOf(i),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,i,"patternObservers")):t.viewmodel.unregister(e,i,"observers"),s=!0)}};return t._observers.push(a),a}function At(t,e,n){var r,i,o,s;if(c(t)){n=e,i=t,r=[];for(t in i)i.hasOwnProperty(t)&&(e=i[t],r.push(this.observe(t,e,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",sc(this,t,e,n);if(o=t.split(" "),1===o.length)return sc(this,t,e,n);for(r=[],s=o.length;s--;)t=o[s],t&&r.push(sc(this,t,e,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function St(t,e,n){var r=this.observe(t,function(){e.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function Ct(t,e){var n,r=this;if(t)n=t.split(" ").map(hc).filter(lc),n.forEach(function(t){var n,i;(n=r._subs[t])&&(e?(i=n.indexOf(e),-1!==i&&n.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Tt(t,e){var n,r,i,o=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return i=t.split(" ").map(hc).filter(lc),i.forEach(function(t){(o._subs[t]||(o._subs[t]=[])).push(e)}),{cancel:function(){return o.off(t,e)}}}function Ot(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Pt(t,e,n){var r,i,o,s,a,u,c=[];if(r=jt(t,e,n),!r)return null;for(i=t.length,a=r.length-2-r[1],o=Math.min(i,r[0]),s=o+r[1],u=0;o>u;u+=1)c.push(u);for(;s>u;u+=1)c.push(-1);for(;i>u;u+=1)c.push(u+a);return 0!==a?c.touchedFrom=r[0]:c.touchedFrom=t.length,c}function jt(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Ft(e,n){var r,i,o,s=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=mu.start(this,!0),mu.scheduleTask(function(){return Cc.fire(s)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&Rt(a),e.innerHTML=""}return this.cssId&&Ac.apply(),e&&((i=e.__ractive_instances__)?i.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),mu.end(),this.transitionsEnabled=o,r.then(function(){return Tc.fire(s)})}function Rt(t){t.splice(0,t.length).forEach($)}function It(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function Lt(t,e){var n,r,i;return r='[data-ractive-css~="{'+e+'}"]',i=function(t){var e,n,i,o,s,a,u,c=[];for(e=[];n=Ic.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(o=e.map(Dt),u=e.length;u--;)a=o.slice(),i=e[u],a[u]=i.base+r+i.modifiers||"",s=o.slice(),s[u]=r+" "+s[u],c.push(a.join(" "),s.join(" "));return c.join(", ")},n=Nc.test(t)?t.replace(Nc,r):t.replace(Rc,"").replace(Fc,function(t,e){var n,r;return Lc.test(e)?t:(n=e.split(",").map(Nt),r=n.map(i).join(", ")+" ",t.replace(e,r))})}function Nt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Dt(t){return t.str}function Mt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Vt(t,e){Mt(e);var n="function"==typeof t,r="function"==typeof e;return e||n||(e={}),n||r?function(){var i=r?Bt(e,this):e,o=n?Bt(t,this):t;return Ut(i,o)}:Ut(e,t)}function Bt(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&g("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Ut(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function zt(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Rh))?t.matchPattern(Ih)?(r=t.matchPattern(Rh))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Wt(t){var e;return(e=t.matchPattern(Nh))?{t:ph,v:e}:null}function qt(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=Ht(t,t.tags[n]))return e}function Ht(t,e){var n,r,i,o;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=Fh(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),Mh):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var s=t.pos;Lh(t)?t.pos=s:(t.pos=s-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(o=0;o<e.readers.length;o+=1)if(i=e.readers[o],r=i(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function $t(t){var e;return(e=t.matchPattern(zh))?{t:ch,v:e}:null}function Gt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:fh,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:fh,v:"false"}):null}function Kt(t){var e;return(e=Zh(t))?Yh.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Uh(t))?e.v:(e=t.matchPattern(Qh))?e:void 0}function Zt(t){var e,n,r;return e=t.pos,t.allowWhitespace(),n=Jh(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),r=Tl(t),null===r?(t.pos=e,null):{t:gh,k:n,v:r}):(t.pos=e,null))}function Qt(t){var e,n,r,i;return e=t.pos,r=Xh(t),null===r?null:(n=[r],t.matchString(",")?(i=Qt(t),i?n.concat(i):(t.pos=e,null)):n)}function Jt(t){function e(t){r.push(t)}var n,r,i,o;return n=t.pos,t.allowWhitespace(),i=Tl(t),null===i?null:(r=[i],t.allowWhitespace(),t.matchString(",")&&(o=Jt(t),null===o&&t.error(Vh),o.forEach(e)),r)}function Yt(t){return Uh(t)||Wh(t)||Zh(t)||el(t)||rl(t)||Lh(t)}function Xt(t){var e,n,r,i,o,s;return e=t.pos,r=t.matchPattern(/^@(?:keypath|index|key)/),r||(n=t.matchPattern(sl)||"",r=!n&&t.relaxedNames&&t.matchPattern(hl)||t.matchPattern(cl),r||"."!==n||(n="",r=".")),r?n||t.relaxedNames||!Hh.test(r)?!n&&qh.test(r)?(i=qh.exec(r)[0],t.pos=e+i.length,{t:mh,v:i}):(o=(n||"")+C(r),t.matchString("(")&&(s=o.lastIndexOf("."),-1!==s?(o=o.substr(0,s),t.pos=e+o.length):t.pos-=1),{t:vh,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function te(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Tl(t),n||t.error(Vh),t.allowWhitespace(),t.matchString(")")||t.error(Bh),{t:xh,x:n}):null}function ee(t){var e,n,r;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Qh))return{t:yh,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),r=Tl(t),r||t.error(Vh),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:yh,x:r}):null}function ne(t){var e,n,r,i;return(n=Sl(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),r=Tl(t),r||t.error(Vh),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),i=Tl(t),i||t.error(Vh),{t:kh,o:[n,r,i]}):(t.pos=e,n)):null}function re(t){return Cl(t)}function ie(t){function e(t){switch(t.t){case fh:case mh:case ch:case ph:return t.v;case hh:return JSON.stringify(String(t.v));case lh:return"["+(t.m?t.m.map(e).join(","):"")+"]";case dh:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case gh:return t.k+":"+e(t.v);case wh:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case _h:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case Eh:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case xh:return"("+e(t.x)+")";case bh:return e(t.x)+e(t.r);case yh:return t.n?"."+t.n:"["+e(t.x)+"]";case kh:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case vh:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return oe(t,n=[]),{r:n,s:e(t)}}function oe(t,e){var n,r;if(t.t===vh&&-1===e.indexOf(t.n)&&e.unshift(t.n),r=t.o||t.m)if(c(r))oe(r,e);else for(n=r.length;n--;)oe(r[n],e);t.x&&oe(t.x,e),t.r&&oe(t.r,e),t.v&&oe(t.v,e)}function se(t,e){var n;if(t){for(;t.t===xh&&t.x;)t=t.x;return t.t===vh?e.r=t.n:t.t===ch&&jl.test(t.v)?e.r=t.v:(n=ae(t))?e.rx=n:e.x=Ol(t),e}}function ae(t){for(var e,n=[];t.t===bh&&t.r.t===yh;)e=t.r,e.x?e.x.t===vh?n.unshift(e.x):n.unshift(Ol(e.x)):n.unshift(e.n),t=t.x;return t.t!==vh?null:{r:t.n,m:n}}function ue(t,e){var n,r=Tl(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Zc},Pl(r,n),n):null}function ce(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=Tl(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r={t:Zc},Pl(n,r),r):null):null}function he(t,e){var n,r,i,o,s;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),r=t.pos,t.relaxedNames=!0,i=Tl(t),t.relaxedNames=!1,t.allowWhitespace(),o=Tl(t),t.allowWhitespace(),i?(s={t:th},Pl(i,s),t.allowWhitespace(),o&&(s={t:Qc,n:Th,f:[s]},Pl(o,s)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):null):null}function le(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:eh}):void 0):null}function de(t,e){var n,r,i;if(n=t.pos,r=Tl(t),!r)return null;for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,ol(t)}function fe(t,e){var n,r,i,o;n=t.pos;try{r=Nl(t,[e.close])}catch(s){o=s}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(o)throw o}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return i={t:Kc},Pl(r,i),i}function pe(t,e){var n,r,i;return t.matchPattern(Vl)?(n=t.pos,r=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),i={t:sh},r&&(i.n=r),i):null}function me(t,e){var n,r,i,o;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),r=t.remaining(),i=r.indexOf(e.close),-1!==i?(o={t:Yc,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):(t.pos=n,null)):(t.pos=n,null)):null}function ge(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(zl)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Ph}):(t.pos=n,null):null}function ve(t,e){var n,r=t.pos;return t.matchString(e.open)?t.matchPattern(ql)?(n=Tl(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:jh,x:n}):(t.pos=r,null):null}function ye(t,e){var n,r,i,o,s,a,u,c,h,l,d,f;if(n=t.pos,t.matchString("^"))i={t:Qc,f:[],n:Sh};else{if(!t.matchString("#"))return null;i={t:Qc,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Zl))&&(f=u,i.n=Hl[u])}if(t.allowWhitespace(),r=Tl(t),r||t.error("Expected expression"),d=t.matchPattern(Gl)){var p=void 0;(p=t.matchPattern(Kl))?i.i=d+","+p:i.i=d}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,s=i.f,h=[];do if(o=Bl(t,e))f&&o.r!==f&&t.error("Expected "+e.open+"/"+f+e.close),t.sectionDepth-=1,l=!0;else if(o=Wl(t,e))i.n===Sh&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=be(r,i.n)),c.f.push({t:Qc,n:Ah,x:Ol(xe(h.concat(o.x))),f:s=[]}),h.push(we(o.x));else if(o=Ul(t,e))i.n===Sh&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,c?c.f.push({t:Qc,n:Ah,x:Ol(xe(h)),f:s=[]}):(c=be(r,i.n),s=c.f);else{if(o=t.read(Xd),!o)break;s.push(o)}while(!l);return c&&(i.n===Th&&(i.n=Oh),i.l=c),Pl(r,i),i.f.length||delete i.f,i}function be(t,e){var n;return e===Th?(n={t:Qc,n:Ah,f:[]},Pl(we(t),n)):(n={t:Qc,n:Sh,f:[]},Pl(t,n)),n}function we(t){return t.t===wh&&"!"===t.s?t.o:{t:wh,s:"!",o:ke(t)}}function xe(t){return 1===t.length?t[0]:{t:_h,s:"&&",o:[ke(t[0]),ke(xe(t.slice(1)))]}}function ke(t){return{t:xh,x:t}}function _e(t){var e,n,r,i,o;return e=t.pos,t.matchString(Jl)?(r=t.remaining(),i=r.indexOf(Yl),-1===i&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),t.pos+=i+3,o={t:eh,c:n},t.includeLinePositions&&(o.p=t.getLinePos(e)),o):null}function Ee(t){return t.replace(kl,function(t,e){var n;return n="#"!==e[0]?wl[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Ae(n)):t})}function Ae(t){return t?10===t?32:128>t?t:159>=t?xl[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Se(t){return t.replace(Al,"&amp;").replace(_l,"&lt;").replace(El,"&gt;")}function Ce(t){return"string"==typeof t}function Te(t){return t.t===eh||t.t===nh}function Oe(t){return(t.t===Qc||t.t===Jc)&&t.f}function Pe(t,e,n,r,i){var s,a,u,c,h,l,d,f;for(ud(t),s=t.length;s--;)a=t[s],a.exclude?t.splice(s,1):e&&a.t===eh&&t.splice(s,1);for(cd(t,r?fd:null,i?pd:null),s=t.length;s--;){if(a=t[s],a.f){var p=a.t===Xc&&dd.test(a.e);h=n||p,!n&&p&&cd(a.f,md,gd),h||(u=t[s-1],c=t[s+1],(!u||"string"==typeof u&&pd.test(u))&&(l=!0),(!c||"string"==typeof c&&fd.test(c))&&(d=!0)),Pe(a.f,e,h,l,d)}if(a.l&&(Pe(a.l.f,e,n,l,d),t.splice(s+1,0,a.l),delete a.l),a.a)for(f in a.a)a.a.hasOwnProperty(f)&&"string"!=typeof a.a[f]&&Pe(a.a[f],e,n,l,d);if(a.m&&Pe(a.m,e,n,l,d),a.v)for(f in a.v)a.v.hasOwnProperty(f)&&(o(a.v[f].n)&&Pe(a.v[f].n,e,n,l,d),o(a.v[f].d)&&Pe(a.v[f].d,e,n,l,d))}for(s=t.length;s--;)"string"==typeof t[s]&&("string"==typeof t[s+1]&&(t[s]=t[s]+t[s+1],t.splice(s+1,1)),n||(t[s]=t[s].replace(ld," ")),""===t[s]&&t.splice(s,1))}function je(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(yd))?t.inside&&n!==t.inside?(t.pos=e,null):{t:ih,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Fe(t){var e,n,r;return t.allowWhitespace(),(n=t.matchPattern(xd))?(e={name:n},r=Re(t),null!=r&&(e.value=r),e):null}function Re(t){var e,n,r,i;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=Ne(t,"'")||Ne(t,'"')||Le(t),null===i&&t.error("Expected valid attribute value"),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?Ee(i[0]):i:""):(t.pos=e,null)}function Ie(t){var e,n,r,i,o;return e=t.pos,(n=t.matchPattern(kd))?(r=n,i=t.tags.map(function(t){return t.open}),-1!==(o=bd(r,i))&&(n=n.substr(0,o),t.pos=e+n.length),n):null}function Le(t){var e,n;for(t.inAttribute=!0,e=[],n=Dh(t)||Ie(t);null!==n;)e.push(n),n=Dh(t)||Ie(t);return e.length?(t.inAttribute=!1,e):null}function Ne(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=Dh(t)||De(t,e);null!==i;)r.push(i),i=Dh(t)||De(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function De(t,e){var n,r,i,o;return n=t.pos,i=t.remaining(),o=t.tags.map(function(t){return t.open}),o.push(e),r=bd(i,o),-1===r&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,i.substr(0,r)):null}function Me(t){var e,n,r;return t.allowWhitespace(),(e=Jh(t))?(r={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(r.value=n.v,r):null):null):null}function Ve(t,e){var n,r,i,o,s,a,u,c,h;if("string"==typeof t){if(r=Sd.exec(t)){var l=t.lastIndexOf(")");return Cd.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:r[1]},o="["+t.slice(n.m.length+1,l)+"]",i=new _d(o),n.a=Ol(i.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],c=[],t){for(;t.length;)if(s=t.shift(),"string"==typeof s){if(a=s.indexOf(":"),-1!==a){a&&u.push(s.substr(0,a)),
s.length>a+1&&(c[0]=s.substring(a+1));break}u.push(s)}else u.push(s);c=c.concat(t)}return u.length?c.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===c.length&&"string"==typeof c[0]?(h=Ed("["+c[0]+"]"),n.a=h?h.value:c[0].trim()):n.d=c):n=u:n="",n}function Be(t){var e,n,r,i,o,s,a,u,c,h,l,d,f,p,m,g;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=uh,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Xc,n.e=t.matchPattern(Od),!n.e)return null;for(Pd.test(t.nextChar())||t.error("Illegal tag name"),o=function(e,r){var i=r.n||r;Rd.test(i)&&(t.pos-=i.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=r},t.allowWhitespace();s=Dh(t)||wd(t);)s.name?(r=Id[s.name])?n[r]=Ad(s.value,t):(i=Fd.exec(s.name))?(n.v||(n.v={}),a=Ad(s.value,t),o(i[1],a)):t.sanitizeEventAttributes&&jd.test(s.name)||(n.a||(n.a={}),n.a[s.name]=s.value||(""===s.value?"":0)):(n.m||(n.m=[]),n.m.push(s)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var v=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!bl.test(n.e)){t.elementStack.push(v),("script"===v||"style"===v)&&(t.inside=v),c=[],h=wa(null);do if(p=t.pos,m=t.remaining(),Ue(v,m))if(g=vd(t)){f=!0;var b=g.e.toLowerCase();if(b!==v&&(t.pos=p,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";bl.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(d=Bl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(f=!0,t.pos=p):(d=t.read(tf))?(h[d.n]&&(t.pos=p,t.error("Duplicate partial definition")),hd(d.f,t.stripComments,y,!y,!y),h[d.n]=d.f,l=!0):(d=t.read(Xd))?c.push(d):f=!0;else f=!0;while(!f);c.length&&(n.f=c),l&&(n.p=h),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(v)?Ld:n}function Ue(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=Td[t],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}function ze(t){var e,n,r,i;return n=t.remaining(),i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=t.tags.map(function(t){return t.open}),r=r.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?r.push('"',"'","=","<",">","`"):t.inAttribute?r.push(t.inAttribute):r.push(i),e=bd(n,r)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):Ee(n.substr(0,e))):null}function We(t){return t.replace(Bd,"\\$&")}function qe(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,o=void 0;if(!t.matchPattern(zd)||!t.matchString(n))return t.pos=e,null;var s=t.matchPattern(Wd);if(g("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+s+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+s+"}} --> ... <!-- {{/"+s+"}} -->'"),!t.matchString(r)||!t.matchPattern(qd))return t.pos=e,null;i=[];var a=new RegExp("^<!--\\s*"+Vd(n)+"\\s*\\/\\s*"+s+"\\s*"+Vd(r)+"\\s*-->");do t.matchPattern(a)?o=!0:(Nd=t.read(Xd),Nd||t.error("expected closing comment ('<!-- "+n+"/"+s+r+" -->')"),i.push(Nd));while(!o);return{t:ah,f:i,n:s}}function He(t){var e,n,r,i,o;e=t.pos;var s=t.standardDelimiters;if(!t.matchString(s[0]))return null;if(!t.matchPattern($d))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(s[1])||t.error("Expected closing delimiter '"+s[1]+"'"),r=[];do(i=Bl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+s[0]+"/partial"+s[1]),o=!0):(i=t.read(Xd),i||t.error("Expected "+s[0]+"/partial"+s[1]),r.push(i));while(!o);return{t:ah,n:n,f:r}}function $e(t){for(var e=[],n=wa(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var o=t.pos,s=void 0,a=void 0;(a=t.read(tf))?(n[a.n]&&(t.pos=o,t.error("Duplicated partial definition")),hd(a.f,t.stripComments,i,!i,!i),n[a.n]=a.f,r=!0):(s=t.read(Xd))?e.push(s):t.error("Unexpected template content")}var u={v:sa,t:e};return r&&(u.p=n),u}function Ge(t,e){return new Yd(t,e||{}).result}function Ke(t){var e=wa(sf);return e.parse=function(e,n){return Ze(e,n||t)},e}function Ze(t,e){if(!Kd)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Kd(t,e||this.options)}function Qe(t,e){var n;if(!Xs){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Je(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Je(t){return t&&"#"===t[0]}function Ye(t){return!("string"==typeof t)}function Xe(t){return t.defaults&&(t=t.defaults),of.reduce(function(e,n){return e[n]=t[n],e},{})}function tn(t){var e,n=t._config.template;if(n&&n.fn)return e=en(t,n.fn),e!==n.result?(n.result=e,e=rn(e,t)):void 0}function en(t,e){var n=nn(af.getParseOptions(t));return e.call(t,n)}function nn(t){var e=wa(af);return e.parse=function(e,n){return af.parse(e,n||t)},e}function rn(t,e){if("string"==typeof t)"#"===t[0]&&(t=af.fromId(t)),t=Kd(t,af.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==sa)throw new Error("Mismatched template version (expected "+sa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function on(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}function sn(t,e,n){if(!/_super/.test(n))return n;var r=function(){var t,i=an(r._parent,e),o="_super"in this,s=this._super;return this._super=i,t=n.apply(this,arguments),o?this._super=s:delete this._super,t};return r._parent=t,r._method=n,r}function an(t,e){var n,r;return e in t?(n=t[e],r="function"==typeof n?n:function(){return n}):r=ja,r}function un(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function cn(t,e,n){if(e in t){if(n in t)throw new Error(un(e,n,!0));m(un(e,n)),t[n]=t[e]}}function hn(t){cn(t,"beforeInit","onconstruct"),cn(t,"init","onrender"),cn(t,"complete","oncomplete"),cn(t,"eventDefinitions","events"),o(t.adaptors)&&cn(t,"adaptors","adapt")}function ln(t,e,n,r){yf(r);for(var i in r)if(mf.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?m(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=o}gf.forEach(function(i){i[t](e,n,r)}),Pc[t](e,n,r),cf[t](e,n,r),Vc[t](e,n,r),dn(e.prototype,n,r)}function dn(t,e,n){for(var r in n)if(!pf[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=vf(t,r,i)),e[r]=i}}function fn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function gn(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}}function vn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e}function yn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}function bn(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}}function wn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function kn(t,e,n,r){return r=r||0,t.map(function(t){var i,o,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return kn(t.items,e,n,r)}).join(""):(i=n+"-"+r++,s=t.keypath&&(o=t.root.viewmodel.wrapped[t.keypath.str])?o.value:t.getValue(),e[i]=s,"${"+i+"}")}).join("")}function _n(){var t,e,n,r;return this.dirtyArgs&&(e=Tf(this.items,t={},this.root._guid),n=Ed("["+e+"]",t),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function En(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function An(){var t,e,n,r;return this.dirtyValue&&(e=Tf(this.items,t={},this.root._guid),n=Ed(e,t),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Sn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Cn(){return this.value}function Tn(t,e){for(var n,r=0;r<e.prop.length;r++)if(void 0!==(n=t[e.prop[r]]))return n}function On(t,e){var n,r,i,o,s,a={},u=!1;for(e||(a.refs=n={});t;){if((s=t.owner)&&(r=s.indexRefs)){if(e&&(i=s.getIndexRef(e)))return a.ref={fragment:t,ref:i},a;if(!e)for(o in r)i=r[o],n[i.n]||(u=!0,n[i.n]={fragment:t,ref:i})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Pn(t,e,n){var r;return"@"===e.charAt(0)?new Uf(t,e,n):(r=qf(t.parentFragment,e))?new Wf(t,r,n):new Mf(t,e,n)}function jn(t,e){var n,r;if(Kf[t])return Kf[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),Kf[t]=n,n}function Fn(t){return t.call()}function Rn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var r,i;return+n>=e.length?"_"+n:(r=e[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function In(t){return E("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Ln(t){return void 0!==t&&"@"!==t[0]}function Nn(t,e){var n,r,i;if(t.__ractive_nowrap)return t;if(r="__ractive_"+e._guid,n=t[r])return n;if(/this/.test(t.toString())){xa(t,r,{value:Zf.call(t,e),configurable:!0});for(i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return e._boundFunctions.push({fn:t,prop:r}),t[r]}return xa(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Dn(t){return t.value}function Mn(t){return void 0!=t}function Vn(t){t.forceResolution()}function Bn(t,e){function n(e){t.resolve(e)}function r(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var i,o,s;o=e.parentFragment,s=e.template,t.root=o.root,t.parentFragment=o,t.pElement=o.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(i=s.r)&&(t.resolver=$f(t,i,n)),e.template.x&&(t.resolver=new Qf(t,o,e.template.x,r)),e.template.rx&&(t.resolver=new tp(t,e.template.rx,r)),t.template.n!==Sh||t.hasOwnProperty("value")||t.setValue(void 0)}function Un(t){var e,n,r;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(r=this.twowayBinding)&&r.rebound()))}function zn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Wn(){this.parentFragment.bubble()}function qn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function Hn(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null}function $n(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)}function Gn(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Kn(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null}function Zn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Qn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Jn(t){var e,n,r,i,o,s,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Ch){if(this.shuffling=!0,mu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,o=[],t.forEach(function(t,e){var r,i,s,a,c;return t===e?void(o[t]=u.fragments[e]):(r=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=t-e,s=u.keypath.join(e),a=u.keypath.join(t),r.index=t,(c=r.registeredIndexRefs)&&c.forEach(Yn),r.rebind(s,a),void(o[t]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&mu.addView(this),s={template:this.template.f,root:this.root,owner:this},r=n;i>r;r+=1)a=o[r],a||this.fragmentsToCreate.push(r),this.fragments[r]=a}}function Yn(t){t.rebind("","")}function Xn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function tr(t){var e,n,r=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=r.keypath.join(t),n.index=t,e=new yb(n),r.fragmentsToRender.push(r.fragments[t]=e)}),this.fragmentsToCreate.length=0):nr(this,t)&&(this.bubble(),this.rendered&&mu.addView(this)),this.value=t,this.updating=!1)}function er(t,e,n){if(e===Ch&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=n?"k":"i"}t.currentSubtype=e}function nr(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Ah:return t.hasContext=!1,ar(t,e,!1,n);case Sh:return t.hasContext=!1,ar(t,e,!0,n);case Th:return sr(t,n);case Oh:return or(t,e,n);case Ch:if(c(e))return er(t,t.subtype,!0),ir(t,e,n)}return t.ordered=!!s(e),t.ordered?(er(t,Ch,!1),rr(t,e,n)):c(e)||"function"==typeof e?t.template.i?(er(t,Ch,!0),ir(t,e,n)):(er(t,Th,!1),sr(t,n)):(er(t,Ah,!1),t.hasContext=!1,ar(t,e,!1,n))}function rr(t,e,n){var r,i,o;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(G);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath.join(r),n.index=r,o=new yb(n),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}function ir(t,e,n){var r,i,o,s,a,u;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)s=t.fragments[i],s.key in e||(a=!0,s.unbind(),t.fragmentsToUnrender.push(s),t.fragments.splice(i,1),o[s.key]=!1);for(i=t.fragments.length;i--;)s=t.fragments[i],s.index!==i&&(s.index=i,(u=s.registeredIndexRefs)&&u.forEach(hr));i=t.fragments.length;for(r in e)o[r]||(a=!0,n.context=t.keypath.join(r),n.key=r,n.index=i++,s=new yb(n),t.fragmentsToRender.push(s),t.fragments.push(s),o[r]=!0);return t.length=t.fragments.length,a}function or(t,e,n){return e?sr(t,n):ur(t)}function sr(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new yb(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ar(t,e,n,r){var i,o,a,u,h;if(o=s(e)&&0===e.length,a=!1,!s(e)&&c(e)){a=!0;for(h in e){a=!1;break}}return i=n?o||a||!e:e&&!o&&!a,i?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(G),!0):void 0:(r.index=0,u=new yb(r),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ur(t)}function ur(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(cr),t.fragmentsToUnrender.forEach(G),t.length=t.fragmentsToRender.length=0,!0):void 0}function cr(t){return t.rendered}function hr(t){t.rebind("","")}function lr(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e}function dr(){var t=this;this.fragments.forEach(G),this.fragmentsToRender.forEach(function(e){return N(t.fragments,e)}),this.fragmentsToRender=[],Lf.call(this),this.length=0,this.unbound=!0}function fr(t){this.fragments.forEach(t?pr:mr),this.renderedFragments=[],this.rendered=!1}function pr(t){t.unrender(!0)}function mr(t){t.unrender(!1)}function gr(){var t,e,n,r,i,o,s;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(i=this.parentFragment.getNode()),s=this.fragments.length,o=0;s>o;o+=1)t=this.fragments[o],e=n.indexOf(t,o),e!==o?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(o,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function vr(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yr(t){var e,n,r,i;for(n=this.nodes.length,e=0;n>e;e+=1)if(r=this.nodes[e],1===r.nodeType){if(da(r,t))return r;if(i=r.querySelector(t))return i}return null}function br(t,e){var n,r,i,o,s,a;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType&&(da(i,t)&&e.push(i),o=i.querySelectorAll(t)))for(s=o.length,a=0;s>a;a+=1)e.push(o[a])}function wr(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xr(t){return jp[t]||(jp[t]=la(t))}function kr(t){var e,n,r;t&&"select"===t.name&&t.binding&&(e=D(t.node.options).filter(_r),t.getAttribute("multiple")?r=e.map(function(t){return t.value}):(n=e[0])&&(r=n.value),void 0!==r&&t.binding.setValue(r),t.bubble())}function _r(t){return t.selected}function Er(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Fp(this.value,this.parentFragment.getNode(),this.docFrag),Rp(this.pElement),this.rendered=!0,this.docFrag}function Ar(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&mu.addView(this))}function Sr(){return void 0!=this.value?Ee(""+this.value):""}function Cr(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Tr(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Fp(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Rp(this.pElement)}}function Or(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Pr(){return null}function jr(){return this.node}function Fr(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Rr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&mu.addView(this))}function Ir(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Kc?e[0]:void 0}function Lr(t){return this.type=rh,this.element=t.element,this.root=t.root,om(this,t.name),this.isBoolean=yl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yb({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=sm(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Nr(t,e){this.fragment&&this.fragment.rebind(t,e)}function Dr(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ra.html||(e=hm[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Mr(){var t=this,e=t.name,n=t.namespacePrefix,r=t.value,i=t.interpolator,o=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?e:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";r=o.toString()}return n&&(e=n+":"+e),r?e+'="'+Vr(r)+'"':e}}function Vr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Br(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ur(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}}function zr(){var t,e,n,r,i=this.value;for(o(i)||(i=[i]),t=this.node.options,e=t.length;e--;)n=t[e],r=n._ractive?n._ractive.value:n.value,n.selected=F(i,r)}function Wr(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function qr(){var t,e,n,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(e=n[r],!e.element.node)return;if(e.element.node.checked)return mu.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function Hr(){var t,e,n=this,r=n.element,i=n.node,s=n.value,a=r.binding;if(t=r.getAttribute("value"),o(s)){for(e=s.length;e--;)if(t==s[e])return void(a.isChecked=i.checked=!0);a.isChecked=i.checked=!1}else a.isChecked=i.checked=s==t}function $r(){this.node.className=n(this.value)}function Gr(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Kr(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Zr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Qr(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Jr(){this.locked||(this.node[this.propertyName]=this.value)}function Yr(){var t=this,e=t.node,n=t.namespace,r=t.name,i=t.value,o=t.fragment;n?e.setAttributeNS(n,r,(o||i).toString()):this.isBoolean?i?e.setAttribute(r,""):e.removeAttribute(r):null==i?e.removeAttribute(r):e.setAttribute(r,(o||i).toString())}function Xr(){var t,e,n=this,r=n.name,i=n.element,o=n.node;"id"===r?e=bm:"value"===r?"select"===i.name&&"value"===r?e=i.getAttribute("multiple")?pm:fm:"textarea"===i.name?e=km:null!=i.getAttribute("contenteditable")?e=xm:"input"===i.name&&(t=i.getAttribute("type"),e="file"===t?ja:"radio"===t&&i.binding&&"name"===i.binding.name?gm:km):this.isTwoway&&"name"===r?"radio"===o.type?e=mm:"checkbox"===o.type&&(e=vm):"style"===r&&o.style.setAttribute?e=wm:"class"!==r||o.namespaceURI&&o.namespaceURI!==ra.html?this.useProperty&&(e=_m):e=ym,e||(e=Em),this.update=e,this.update()}function ti(t,e){var n=e?"svg":"div";return Cm.innerHTML="<"+n+" "+t+"></"+n+">",D(Cm.childNodes[0].attributes)}function ei(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function ni(t){for(;t=t.parent;)if("form"===t.name)return t}function ri(){this._ractive.binding.handleChange()}function ii(){var t;Nm.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function oi(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Nm.call(e),t._timeout=void 0},t.element.lazy)}function si(t,e,n){var r=t+e+n;return Um[r]||(Um[r]=[])}function ai(t){return t.isChecked}function ui(t){return t.element.getAttribute("value")}function ci(t){var e,n,r,i,o,s=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||s.contenteditable&&hi(s.contenteditable))&&hi(s.value)?n=Vm:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(r=hi(s.name),i=hi(s.checked),r&&i&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?n="radio"===e?Hm:Gm:i&&(n="radio"===e?Wm:Zm)):"file"===e&&hi(s.value)?n=eg:hi(s.value)&&(n="number"===e||"range"===e?ng:Dm)):"select"===t.name&&hi(s.value)?n=t.getAttribute("multiple")?Xm:Jm:"textarea"===t.name&&hi(s.value)&&(n=Dm),n&&(o=new n(t))&&o.keypath?o:void 0}function hi(t){return t&&t.isBindable}function li(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function di(t){Uu(this.root,this.getAction(),{event:t})}function fi(){return this.action.toString().trim()}function pi(t,e,n){var r,i,o,s=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Gf(n.a.s,i.length),this.parentFragment=t.parentFragment,o=this.root,this.refResolvers=[],i.forEach(function(t,e){var n=void 0;(n=ug.exec(t))?s.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:s.refResolvers.push($f(s,t,function(t){return s.resolve(e,t)}))}),this.fire=mi):(r=n.n||n,"string"!=typeof r&&(r=new yb({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new yb({template:n.d,root:this.root,owner:this.element}),this.fire=vi):n.a&&(this.params=n.a,this.fire=gi))}function mi(t){var e,n,r;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0===n)return void 0;if(n.eventObject){if(r=t,i=n.refinements.length)for(o=0;i>o;o+=1)r=r[n.refinements[o]]}else r=e.viewmodel.get(n);return r}),Bu.enqueue(e,t),r=this.fn.apply(null,n),e[this.method].apply(e,r),Bu.dequeue(e)}function gi(t){Uu(this.root,this.getAction(),{event:t,args:this.params})}function vi(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Uu(this.root,this.getAction(),{event:t,args:e})}function yi(t){var e,n,r,i={};e=this._ractive,n=e.events[t.type],(r=qf(n.element.parentFragment))&&(i=qf.resolve(r)),n.fire({node:this,original:t,index:i,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function bi(){var t,e=this.name;if(!this.invalid){if(t=v("events",this.root,e))this.custom=t(this.node,wi(e));else{if(!("on"+e in this.node||window&&"on"+e in window||ta))return void(dg[e]||g(La(e,"event"),{node:this.node}));this.node.addEventListener(e,cg,!1)}this.hasListener=!0}}function wi(t){return lg[t]||(lg[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),lg[t]}function xi(t,e){function n(n){n&&n.rebind(t,e)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function ki(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function _i(t,e){this.keypaths[t]=e}function Ei(){return this.method?void this.refResolvers.forEach(G):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ai(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,cg,!1),this.hasListener=!1}function Si(){var t=this;this.dirty||(this.dirty=!0,mu.scheduleTask(function(){Ci(t),t.dirty=!1})),this.parentFragment.bubble()}function Ci(t){var e,n,r,i,o;e=t.node,e&&(i=D(e.options),n=t.getAttribute("value"),r=t.getAttribute("multiple"),void 0!==n?(i.forEach(function(t){var e,i;e=t._ractive?t._ractive.value:t.value,i=r?Ti(n,e):n==e,i&&(o=!0),t.selected=i}),o||(i[0]&&(i[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Ti(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Oi(t,e){t.select=ji(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Pi(t){t.select&&N(t.select.options,t)}function ji(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Fi(t){var e,n,r,i,o,s,a;this.type=Xc,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=r=e.root,this.index=t.index,this.key=t.key,this.name=im(n.e),"option"===this.name&&Oi(this,n),"select"===this.name&&(this.options=[],this.bubble=Si),"form"===this.name&&(this.formBindings=[]),a=nm(this,n),this.attributes=Om(this,n.a),this.conditionalAttributes=Fm(this,n.m),n.f&&(this.fragment=new yb({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),s=r.twoway,a.twoway===!1?s=!1:a.twoway===!0&&(s=!0),this.twoway=s,this.lazy=a.lazy,s&&(i=rg(this,n.a))&&(this.binding=i,o=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),o.push(i)),n.v&&(this.eventHandlers=wg(this,n.v)),n.o&&(this.decorator=new Ag(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Ri(t,e){function n(n){n.rebind(t,e)}var r,i,o,s;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(s=this.root,r=o.length;r--;)o[r]._makeDirty();this.node&&(i=this.node._ractive)&&k(i,"keypath",t,e)}function Ii(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),r=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",e,!1)},!1)}function Li(t){t.node.addEventListener("reset",Di,!1)}function Ni(t){t.node.removeEventListener("reset",Di,!1)}function Di(){var t=this._ractive.proxy;mu.start(),t.formBindings.forEach(Mi),mu.end()}function Mi(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Vi(t,e,n){var r,i,o;this.element=t,this.root=r=t.root,this.isIntro=n,i=e.n||e,("string"==typeof i||(o=new yb({template:i,root:r,owner:t}),i=o.toString(),o.unbind(),""!==i))&&(this.name=i,e.a?this.params=e.a:e.d&&(o=new yb({template:e.d,root:r,owner:t}),this.params=o.getArgsList(),o.unbind()),this._fn=v("transitions",r,i),this._fn||g(La(i,"transition"),{ractive:this.root}))}function Bi(t){return t}function Ui(){
ev.hidden=document[Jg]}function zi(){ev.hidden=!0}function Wi(){ev.hidden=!1}function qi(){var t,e,n,r=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&Hi(t,e),t._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Hi(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function $i(){var t,e,n,r=this,i=this.root;return t=Gi(this),e=this.node=la(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),xa(this.node,"_ractive",{value:{proxy:this,keypath:au(this.parentFragment),events:wa(null),root:i}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=dv,this.node.text=this.fragment.toString(!1),this.fragment.unrender=ja):"style"===this.name?(this.bubble=lv,this.bubble(),this.fragment.unrender=ja):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=ja:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Ki(this),"img"===this.name?Ii(this):"form"===this.name?Li(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&mu.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new fv(this,this.intro,!0),mu.registerTransition(n),mu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&mu.scheduleTask(function(){return r.node.focus()},!0),Zi(this),this.node}function Gi(t){var e,n,r;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ra.svg:(r=t.parent)?"foreignObject"===r.name?ra.html:r.node.namespaceURI:t.root.el.namespaceURI}function Ki(t){var e,n,r;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&o(n)){for(r=n.length;r--;)if(e==n[r]){t.node.selected=!0;break}}else t.node.selected=e==n}function Zi(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e.parent)}function Qi(t){var e,n,r;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&o(n))for(r=n.length;r--;)if(n[r]==e)return!0}function Ji(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Yi(t){var e=t.toString();return e?" "+e:""}function Xi(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(G),"option"===this.name&&Pi(this),this.attributes.forEach(G),this.conditionalAttributes.forEach(G)}function to(t){var e,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():t&&mu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(K),this.decorator&&mu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new fv(this,this.outro,!1),mu.registerTransition(r),mu.scheduleTask(function(){return r.start()})),this.liveQueries&&eo(this),"form"===this.name&&Ni(this)}function eo(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}function no(t,e){var n=xv.exec(e)[0];return null===t||n.length<t.length?n:t}function ro(t,e,n){var r;if(r=io(t,e,n||{}))return r;if(r=af.fromId(e,{noThrow:!0})){r=kv(r);var i=af.parse(r,af.getParseOptions(t));return t.partials[e]=i.t}}function io(t,e,n){var r=void 0,i=ao(e,n.owner);if(i)return i;var o=y("partials",t,e);if(o){if(i=o.partials[e],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(e),i=r.call(t,af)),!i&&""!==i)return void m(Ia,e,"partial","partial",{ractive:t});if(!af.isParsed(i)){var s=af.parse(i,af.getParseOptions(o));s.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=r?o:oo(o,e);a.partials[e]=i=s.t}return r&&(i._fn=r),i.v?i.t:i}}function oo(t,e){return t.partials.hasOwnProperty(e)?t:so(t.constructor,e)}function so(t,e){return t?t.partials.hasOwnProperty(e)?t:so(t._Parent,e):void 0}function ao(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return ao(t,e.parentFragment.owner)}}function uo(t,e){var n,r=y("components",t,e);if(r&&(n=r.components[e],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(e),n=i(),!n)return void m(Ia,e,"component","component",{ractive:t});"string"==typeof n&&(n=uo(t,n)),n._fn=i,r.components[e]=n}return n}function co(){var t=this.instance.fragment.detach();return Rv.fire(this.instance),t}function ho(t){return this.instance.fragment.find(t)}function lo(t,e){return this.instance.fragment.findAll(t,e)}function fo(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function po(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function mo(){return this.parentFragment.findNextNode(this)}function go(){return this.rendered?this.instance.fragment.firstNode():null}function vo(t,e,n){function r(t){var n,r;t.value=e,t.updating||(r=t.ractive,n=t.keypath,t.updating=!0,mu.start(r),r.viewmodel.mark(n),mu.end(),t.updating=!1)}var i,o,s,a,u,c;if(i=t.obj,o=t.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(s=n.get,a=n.set),u=s||function(){return e},c=function(t){a&&a(t),e=s?s():t,c._ractiveWrappers.forEach(r)},c._ractiveWrappers=[t],Object.defineProperty(i,o,{get:u,set:c,enumerable:!0,configurable:!0})}function yo(t,e){var n,r,i,o;if(this.adaptors)for(n=this.adaptors.length,r=0;n>r;r+=1)if(i=this.adaptors[r],i.filter(e,t,this.ractive))return o=this.wrapped[t]=i.wrap(this.ractive,e,t,wo(t)),void(o.value=e)}function bo(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function wo(t){var e;return ry[t]||(e=t?t+".":"",ry[t]=function(n,r){var i;return"string"==typeof n?(i={},i[e+n]=r,i):"object"==typeof n?e?bo(n,t):n:void 0}),ry[t]}function xo(t){var e,n,r=[Ga];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&j(r,n),n=n.parent;return r}function ko(t,e,n){var r;Eo(t,e),n||(r=e.wildcardMatches(),r.forEach(function(n){_o(t,n,e)}))}function _o(t,e,n){var r,i,o;e=e.str||e,r=t.depsMap.patternObservers,i=r&&r[e],i&&i.forEach(function(e){o=n.join(e.lastKey),Eo(t,o),_o(t,e,o)})}function Eo(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function Ao(){function t(t){var r=t.key;t.viewmodel===s?(s.clearCache(r.str),t.invalidate(),n.push(r),e(r)):t.viewmodel.mark(r)}function e(n){var r,i;s.noCascade.hasOwnProperty(n.str)||((i=s.deps.computed[n.str])&&i.forEach(t),(r=s.depsMap.computed[n.str])&&r.forEach(e))}var n,r,i,o=this,s=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),r=iy(n),r.forEach(function(e){var r;-1===n.indexOf(e)&&(r=s.deps.computed[e.str])&&r.forEach(t)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return oy(o,t,!0)}),n.forEach(function(t){return oy(o,t)})),this.deps.observers&&(r.forEach(function(t){return So(o,null,t,"observers")}),To(this,n,"observers")),this.deps["default"]&&(i=[],r.forEach(function(t){return So(o,i,t,"default")}),i.length&&Co(this,i,n),To(this,n,"default")),n.forEach(function(t){a[t.str]=o.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function So(t,e,n,r){var i,o;(i=Oo(t,n,r))&&(o=t.get(n),i.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(o)}))}function Co(t,e,n){e.forEach(function(e){for(var r=!1,i=0,o=n.length,s=[];o>i;){var a=n[i];if(a===e.keypath){r=!0;break}a.slice(0,e.keypath.length)===e.keypath&&s.push(a),i++}r&&e.setValue(t.get(e.keypath)),s.length&&e.refineValue(s)})}function To(t,e,n){function r(t){t.forEach(i),t.forEach(o)}function i(e){var r=Oo(t,e,n);r&&a.push({keypath:e,deps:r})}function o(e){var i;(i=t.depsMap[n][e.str])&&r(i)}function s(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];r(e),a.forEach(s)}function Oo(t,e,n){var r=t.deps[n];return r?r[e.str]:null}function Po(){this.captureGroups.push([])}function jo(t,e){var n,r;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Fo(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Ro(t,e){var n=new dy(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function Io(t,e){var n,r,i,o,s,a=this.cache,u=t.str;if(e=e||gy,e.capture&&(o=L(this.captureGroups))&&(~o.indexOf(t)||o.push(t)),Ta.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Lo(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),t.isRoot&&e.fullRootGet)for(s in this.mappings)n[s]=this.mappings[s].getValue();return n===py?void 0:n}function Lo(t,e){var n,r,i,o;return n=t.get(e.parent),(o=t.wrapped[e.parent.str])&&(n=o.get()),null!==n&&void 0!==n?((r=t.cacheMap[e.parent.str])?-1===r.indexOf(e.str)&&r.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(i=n[e.lastKey],t.adapt(e.str,i,!1),t.cache[e.str]=i,i):t.cache[e.str]=py):void 0}function No(){var t;for(t in this.computations)this.computations[t].init(this)}function Do(t,e){var n=this.mappings[t.str]=new by(t,e);return n.initViewmodel(this),n}function Mo(t,e){var n,r=t.str;e&&(e.implicit&&(this.implicitChanges[r]=!0),e.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var i=e?e.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function Vo(t,e,n,r){var i,o,s,a;if(this.mark(t),r&&r.compare){s=Uo(r.compare);try{i=e.map(s),o=n.map(s)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',t),i=e,o=n}}else i=e,o=n;a=xy(i,o),this.smartUpdate(t,n,a,e.length!==n.length)}function Bo(t){return JSON.stringify(t)}function Uo(t){if(t===!0)return Bo;if("string"==typeof t)return _y[t]||(_y[t]=function(e){return e[t]}),_y[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function zo(t,e){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,o):(r=this.deps[o]||(this.deps[o]={}),i=r[t.str]||(r[t.str]=[]),i.push(e),this.depsMap[o]||(this.depsMap[o]={}),t.isRoot||Wo(this,t,o)))}function Wo(t,e,n){for(var r,i,o;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str]||(r[e.parent.str]=[]),o=e.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(e)),i["_"+o]+=1,e=e.parent}function qo(){return this.captureGroups.pop()}function Ho(t){this.data=t,this.clearCache("")}function $o(t,e){var n,r,i,o,s=void 0===arguments[2]?{}:arguments[2];if(!s.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(r=this.computations[t.str]){if(r.setting)return;r.set(e),e=r.get()}a(this.cache[t.str],e)||(i=this.wrapped[t.str],i&&i.reset&&(o=i.reset(e)!==!1,o&&(e=i.get())),r||o||Go(this,t,e),s.silent?this.clearCache(t.str):this.mark(t))}function Go(t,e,n){var r,i,o,s;o=function(){r.set?r.set(e.lastKey,n):(i=r.get(),s())},s=function(){i||(i=Jv(e.lastKey),t.set(e.parent,i,{silent:!0})),i[e.lastKey]=n},r=t.wrapped[e.parent.str],r?o():(i=t.get(e.parent),(r=t.wrapped[e.parent.str])?o():s())}function Ko(t,e,n){var r,i,o,s=this;if(i=n.length,n.forEach(function(e,n){-1===e&&s.mark(t.join(n),Py)}),this.set(t,e,{silent:!0}),(r=this.deps["default"][t.str])&&r.filter(Zo).forEach(function(t){return t.shuffle(n,e)}),i!==e.length){for(this.mark(t.join("length"),Oy),o=n.touchedFrom;o<e.length;o+=1)this.mark(t.join(o));for(o=e.length;i>o;o+=1)this.mark(t.join(o),Py)}}function Zo(t){return"function"==typeof t.shuffle}function Qo(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Jo(t,e){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,o);if(r=this.deps[o][t.str],i=r.indexOf(e),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),t.isRoot||Yo(this,t,o)}}function Yo(t,e,n){for(var r,i;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str],i["_"+e.str]-=1,i["_"+e.str]||(N(i,e),i["_"+e.str]=void 0),e=e.parent}function Xo(t){this.hook=new nu(t),this.inProcess={},this.queue={}}function ts(t,e){return t[e._guid]||(t[e._guid]=[])}function es(t,e){var n=ts(t.queue,e);for(t.hook.fire(e);n.length;)es(t,n.shift());delete t.queue[e._guid]}function ns(t,e){var n,r={};for(n in e)r[n]=rs(t,n,e[n]);return r}function rs(t,e,n){var r,i;return"function"==typeof n&&(r=os(n,t)),"string"==typeof n&&(r=is(t,n)),"object"==typeof n&&("string"==typeof n.get?r=is(t,n.get):"function"==typeof n.get?r=os(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=os(n.set,t))),{getter:r,setter:i}}function is(t,e){var n,r,i;return n="return ("+e.replace(Dy,function(t,e){return r=!0,'__ractive.get("'+e+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(t):i}function os(t,e){return/this/.test(t.toString())?t.bind(e):t}function ss(e){var n,i,o=void 0===arguments[1]?{}:arguments[1],s=void 0===arguments[2]?{}:arguments[2];if($b.DEBUG&&Ca(),cs(e,s),xa(e,"data",{get:hs}),My.fire(e,o),zy.forEach(function(t){e[t]=r(wa(e.constructor[t]||null),o[t])}),i=new Iy({adapt:as(e,e.adapt,o),data:Uc.init(e.constructor,e,o),computed:Ny(e,r(wa(e.constructor.prototype.computed),o.computed)),mappings:s.mappings,ractive:e,onchange:function(){return mu.addRactive(e)}}),e.viewmodel=i,i.init(),bf.init(e.constructor,e,o),Vy.fire(e),By.begin(e),e.template){var a=void 0;(s.cssIds||e.cssId)&&(a=s.cssIds?s.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new yb({template:e.template,root:e,owner:e,cssIds:a})}if(By.end(e),n=t(e.el)){var u=e.render(n,e.append);$b.DEBUG_PROMISES&&u["catch"](function(t){throw g("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&d(t.stack),t})}}function as(t,e,n){function r(e){return"string"==typeof e&&(e=v("adaptors",t,e),e||l(La(e,"adaptor"))),e}var i,o,s;if(e=e.map(r),i=I(n.adapt).map(r),i=us(e,i),o="magic"in n?n.magic:t.magic,s="modifyArrays"in n?n.modifyArrays:t.modifyArrays,o){if(!na)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&i.push(ey),i.push(ty)}return s&&i.push(Zv),i}function us(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function cs(t,e){t._guid="r-"+Uy++,t._subs=wa(null),t._config={},t._twowayBindings=wa(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function hs(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ls(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new yb({template:e,root:t.root,owner:this}),this.update()}function ds(t,e,n){var r;return e.r?r=$f(t,e.r,n):e.x?r=new Qf(t,t.parentFragment,e.x,n):e.rx&&(r=new tp(t,e.rx,n)),r}function fs(t){return 1===t.length&&t[0].t===Kc}function ps(t,e){var n;for(n in e)e.hasOwnProperty(n)&&ms(t.instance,t.root,n,e[n])}function ms(t,e,n,r){"string"!=typeof r&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Uu(e,r,{event:t,args:n}),!1})}function gs(t,e){var n,r;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,r=n.root,this.root=r,this.type=oh,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Hy(this,e,t.template.a,t.template.f,t.template.p),$y(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Gy(this)}function vs(t,e){function n(n){n.rebind(t,e)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function ys(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function bs(){return this.instance.fragment.toString()}function ws(){var t=this.instance;this.resolvers.forEach(G),xs(this),t._observers.forEach(Z),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&N(t.el.__ractive_instances__,t),Xy.fire(t)}function xs(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ks(t){this.shouldDestroy=t,this.instance.unrender()}function _s(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,r){return Es({parentFragment:e,pElement:t.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Es(t){if("string"==typeof t.template)return new If(t);switch(t.template.t){case sh:return new sb(t);case Kc:return new sp(t);case Qc:return new Sp(t);case Zc:return new qp(t);case Xc:var e=void 0;return(e=jv(t.parentFragment.root,t.template.e))?new nb(t,e):new bv(t);case th:return new Pv(t);case eh:return new ib(t);case uh:return new ub(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function As(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Ss(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Cs(t){return this.items?this.items.map(t?Os:Ts).join(""):""}function Ts(t){return t.toString()}function Os(t){return t.toString(!0)}function Ps(){this.bound&&(this.items.forEach(js),this.bound=!1)}function js(t){t.unbind&&t.unbind()}function Fs(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Rs(t){var e,n,r,i,o;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),r=bf.reset(this),i=r.length;i--;)if(wb.indexOf(r[i])>-1){o=!0;break}if(o){var s=void 0;this.viewmodel.mark(Ga),(s=this.component)&&(s.shouldDestroy=!0),this.unrender(),s&&(s.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=mu.start(this,!0),this.viewmodel.mark(Ga),mu.end();return xb.fire(this,t),e}function Is(t){var e,n;cf.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Ls(t,e){var n,r;if(r=mu.start(this,!0),c(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Ns(this,t,e))}else Ns(this,t,e);return mu.end(),r}function Ns(t,e,n){e=E(C(e)),e.isPattern?A(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Ds(t,e){return Ka(this,t,void 0===e?-1:-e)}function Ms(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(Z),this.fragment.rendered&&this.el.__ractive_instances__&&N(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():su.resolve(),jb.fire(this),this._boundFunctions.forEach(Vs),t}function Vs(t){delete t.fn[t.prop]}function Bs(t){var e=this;if("string"!=typeof t)throw new TypeError(Ra);var n=void 0;return/\*/.test(t)?(n={},A(this,E(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Us(){return this.fragment.toString(!0)}function zs(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),su.resolve();for(t=mu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),N(this.el.__ractive_instances__,this),Lb.fire(this),mu.end(),t}function Ws(t){var e;return t=E(t)||Ga,e=mu.start(this,!0),this.viewmodel.mark(t),mu.end(),Mb.fire(this,t),e}function qs(t,e){var n,r,i;if("string"!=typeof t||e){i=[];for(r in this._twowayBindings)(!t||E(r).equalsOrStartsWith(t))&&i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[t];return n=Hs(this,i),this.set(n)}function Hs(t,e){var n={},r=[];return e.forEach(function(t){var e,i;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(r[t.keypath.str]||t.changed()||(r.push(t.keypath),r[t.keypath.str]=t));e=t.attribute.value,i=t.getValue(),R(e,i)||a(e,i)||(n[t.keypath.str]=i)}}),r.length&&r.forEach(function(t){var e,i,o;e=r[t.str],i=e.attribute.value,o=e.getValue(),R(i,o)||(n[t.str]=o)}),n}function $s(t,e){return"function"==typeof e&&/_super/.test(t)}function Gs(t){for(var e={};t;)Ks(t,e),Qs(t,e),t=t._Parent!==$b?t._Parent:!1;return e}function Ks(t,e){gf.forEach(function(n){Zs(n.useDefaults?t.prototype:t,e,n.name)})}function Zs(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}function Qs(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof r&&e[n]._method){var i=void 0,o=r._method;o&&(r=r._method),i=Ub(e[n]._method,r),o&&(i._method=i),e[n]=i}}else e[n]=r._method?r._method:r}})}function Js(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Ys,this):Ys(this)}function Ys(t){var e,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof $b&&(i=zb(i)),e=function(t){return this instanceof e?void Wy(this,t):new e(t)},n=wa(t.prototype),n.constructor=e,ka(e,{defaults:{value:n},extend:{value:Js,writable:!0,configurable:!0},_Parent:{value:t}}),bf.extend(t,n,i),Uc.extend(t,n,i),i.computed&&(n.computed=r(wa(t.prototype.computed),i.computed)),e.prototype=n,e}var Xs,ta,ea,na,ra,ia,oa,sa=3,aa={el:void 0,append:!1,template:{v:sa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ua=aa,ca={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Xs="object"==typeof document,ta="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ea="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),na=!0}catch(ha){na=!1}ra={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ia="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),oa=["o","ms","moz","webkit"];var la,da,fa,pa,ma,ga,va,ya,ba;if(la=ia?function(t,e){return e&&e!==ra.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ra.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Xs){for(fa=la("div"),pa=["matches","matchesSelector"],ba=function(t){return function(e,n){return e[t](n)}},va=pa.length;va--&&!da;)if(ma=pa[va],fa[ma])da=ba(ma);else for(ya=oa.length;ya--;)if(ga=oa[va]+ma.substr(0,1).toUpperCase()+ma.substring(1),fa[ga]){da=ba(ga);break}da||(da=function(t,e){var n,r,i;for(r=t.parentNode,r||(fa.innerHTML="",r=fa,t=t.cloneNode(),fa.appendChild(t)),n=r.querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1})}else da=null;var wa,xa,ka,_a=null;try{Object.defineProperty({},"test",{value:0}),Xs&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xa=Object.defineProperty}catch(Ea){xa=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Ea){throw Ea}Xs&&Object.defineProperties(la("div"),{test:{value:0}}),ka=Object.defineProperties}catch(Ea){ka=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&xa(t,n,e[n])}}try{Object.create(null),wa=Object.create}catch(Ea){wa=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}var Aa,Sa,Ca,Ta=Object.prototype.hasOwnProperty,Oa=Object.prototype.toString,Pa=/^\[object (?:Array|FileList)\]$/,ja=function(){},Fa={};ea?!function(){Ca=function(){!!console.groupCollapsed;Ca=ja},Sa=function(t,e){if(Ca(),"object"==typeof e[e.length-1]){var n=e.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var o=void 0;(o=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&e.push(o)}}},Aa=function(){}}():Sa=Aa=Ca=ja;var Ra="Bad arguments",Ia='A function was specified for "%s" %s, but no %s was returned',La=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Na=function(t,e,n,r){if(t===e)return b(e);if(r){var i=v("interpolators",n,r);if(i)return i(t,e)||b(e);l(La(r,"interpolator"))}return Va.number(t,e)||Va.array(t,e)||Va.object(t,e)||b(e)},Da=Na,Ma={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,r,i,s;if(!o(t)||!o(e))return null;for(n=[],r=[],s=i=Math.min(t.length,e.length);s--;)r[s]=Da(t[s],e[s]);for(s=i;s<t.length;s+=1)n[s]=t[s];for(s=i;s<e.length;s+=1)n[s]=e[s];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,o,s;if(!c(t)||!c(e))return null;n=[],o={},i={};for(s in t)Ta.call(t,s)&&(Ta.call(e,s)?(n.push(s),i[s]=Da(t[s],e[s])):o[s]=t[s]);for(s in e)Ta.call(e,s)&&!Ta.call(t,s)&&(o[s]=e[s]);return r=n.length,function(t){for(var e,s=r;s--;)e=n[s],o[e]=i[e](t);return o}}},Va=Ma,Ba=w,Ua={},za=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Wa=/\*/,qa={},Ha=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=_(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Wa.test(t),this.parent=""===t?null:E(e.join(".")),this.isRoot=!t};Ha.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return E(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:E(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Ba(this.str))}};var $a,Ga=E(""),Ka=T,Za="Cannot add to a non-numeric value",Qa=O;"undefined"==typeof window?$a=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(oa,0,window),$a=window.requestAnimationFrame);var Ja,Ya=$a;Ja="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Xa=Ja,tu={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};P.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var eu,nu=P,ru={},iu={},ou={};"function"==typeof Promise?eu=Promise:(eu=function(t){var e,n,r,i,o,s,a=[],u=[],c=ru;r=function(t){return function(r){c===ru&&(e=r,c=t,n=V(c===iu?a:u,e),M(n))}},i=r(iu),o=r(ou);try{t(i,o)}catch(h){o(h)}return s={then:function(t,e){var r=new eu(function(i,o){var s=function(t,e,n){"function"==typeof t?e.push(function(e){var n;try{n=t(e),B(r,n,i,o)}catch(s){o(s)}}):e.push(n)};s(t,a,i),s(e,u,o),c!==ru&&M(n)});return r}},s["catch"]=function(t){return this.then(null,t)},s},eu.all=function(t){return new eu(function(e,n){var r,i,o,s=[];if(!t.length)return void e(s);
for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){s[i]=t,--r||e(s)},n):(s[i]=t,--r||e(s))},r=i=t.length;i--;)o(t[i],i)})},eu.resolve=function(t){return new eu(function(e){e(t)})},eu.reject=function(t){return new eu(function(e,n){n(t)})});var su=eu,au=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Ga},uu=U,cu=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};cu.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Y(this)},decrementTotal:function(){this.totalChildren-=1,Y(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;N(e,t),Y(this)},init:function(){this.ready=!0,Y(this)},detachNodes:function(){this.decoratorQueue.forEach($),this.detachQueue.forEach(Q),this.children.forEach(J)}};var hu,lu,du=cu,fu=[],pu=new nu("change");lu={start:function(t,e){var n,r;return e&&(n=new su(function(t){return r=t})),hu={previousBatch:hu,transitionManager:new du(r,hu&&hu.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&hu.ractives.push(t),n},end:function(){X(),hu.transitionManager.init(),!hu.previousBatch&&hu.instance&&(hu.instance.viewmodel.changes=[]),hu=hu.previousBatch},addRactive:function(t){hu&&j(hu.ractives,t)},registerTransition:function(t){t._manager=hu.transitionManager,hu.transitionManager.add(t)},registerDecorator:function(t){hu.transitionManager.addDecorator(t)},addView:function(t){hu.views.push(t)},addUnresolved:function(t){fu.push(t)},removeUnresolved:function(t){N(fu,t)},detachWhenReady:function(t){hu.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(hu){for(n=hu;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var mu=lu,gu=[],vu={tick:function(){var t,e,n;for(n=Xa(),mu.start(),t=0;t<gu.length;t+=1)e=gu[t],e.tick(n)||gu.splice(t--,1);mu.end(),gu.length?Ya(vu.tick):vu.running=!1},add:function(t){gu.push(t),vu.running||(vu.running=!0,Ya(vu.tick))},abort:function(t,e){for(var n,r=gu.length;r--;)n=gu[r],n.root===e&&n.keypath===t&&n.stop()}},yu=vu,bu=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Da(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};bu.prototype={tick:function(){var t,e,n,r,i,o;return o=this.keypath,this.running?(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==o&&(mu.start(this.root),this.root.viewmodel.set(o,this.to),mu.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&m("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==o&&(n=this.interpolator(e),mu.start(this.root),this.root.viewmodel.set(o,n),mu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var wu=bu,xu=nt,ku={stop:ja},_u=it,Eu=new nu("detach"),Au=ot,Su=st,Cu=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Tu=function(t,e){var n,r,i,o,s,a,u,c,h,l;for(n=ut(t.component||t._ractive.proxy),r=ut(e.component||e._ractive.proxy),i=L(n),o=L(r);i&&i===o;)n.pop(),r.pop(),s=i,i=L(n),o=L(r);if(i=i.component||i,o=o.component||o,h=i.parentFragment,l=o.parentFragment,h===l)return a=h.items.indexOf(i),u=l.items.indexOf(o),a-u||n.length-r.length;if(c=s.fragments)return a=c.indexOf(h),u=c.indexOf(l),a-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Ou=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Tu(t,e)},Pu=function(){this.sort(this._isComponentQuery?Tu:Ou),this._dirty=!1},ju=function(){var t=this;this._dirty||(this._dirty=!0,mu.scheduleTask(function(){t._sort()}))},Fu=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},Ru=ct,Iu=ht,Lu=lt,Nu=dt,Du=ft,Mu=pt,Vu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Bu=Vu,Uu=mt,zu=yt,Wu=bt,qu={capture:!0,noUnwrap:!0,fullRootGet:!0},Hu=wt,$u=new nu("insert"),Gu=kt,Ku=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:t};Ku.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?mu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zu,Qu=Ku,Ju=_t,Yu=Array.prototype.slice;Zu=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t},Zu.prototype={init:function(t){var e,n;if(e=Ju(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(E(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Ju(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(E(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void mu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,r,i;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(r=Yu.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.values[e]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Xu,tc,ec,nc,rc,ic,oc=Zu,sc=Et,ac={},uc=At,cc=St,hc=function(t){return t.trim()},lc=function(t){return""!==t},dc=Ct,fc=Tt,pc=Ot,mc=Pt,gc=Array.prototype,vc=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var s,a,u,c,h=[];if(e=E(C(e)),s=this.viewmodel.get(e),a=s.length,!o(s))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return h=mc(s,t,r),c=gc[t].apply(s,r),u=mu.start(this,!0).then(function(){return c}),h?this.viewmodel.smartUpdate(e,s,h):this.viewmodel.mark(e),mu.end(),u}},yc=vc("pop"),bc=vc("push"),wc="/* Ractive.js component styles */\n",xc=[],kc=!1;Xs?(ec=document.createElement("style"),ec.type="text/css",nc=document.getElementsByTagName("head")[0],ic=!1,rc=ec.styleSheet,tc=function(){var t=wc+xc.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");rc?rc.cssText=t:ec.innerHTML=t,ic||(nc.appendChild(ec),ic=!0)},Xu={add:function(t){xc.push(t),kc=!0},apply:function(){kc&&(tc(),kc=!1)}}):Xu={add:ja,apply:ja};var _c,Ec,Ac=Xu,Sc=Ft,Cc=new nu("render"),Tc=new nu("complete"),Oc={extend:function(t,e,n){e.adapt=It(e.adapt,I(n.adapt))},init:function(){}},Pc=Oc,jc=Lt,Fc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Rc=/\/\*.*?\*\//g,Ic=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Lc=/^@media/,Nc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Dc=1,Mc={name:"css",extend:function(t,e,n){if(n.css){var r=Dc++,i=n.noCssTransform?n.css:jc(n.css,r);e.cssId=r,Ac.add({id:r,styles:i})}},init:function(){}},Vc=Mc,Bc={name:"data",extend:function(t,e,n){var r=void 0,i=void 0;if(n.data&&c(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(c(i)||o(i))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Vt(e.data,n.data)},init:function(t,e,n){var r=Vt(t.prototype.data,n.data);return"function"==typeof r&&(r=r.call(e)),r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Uc=Bc,zc=/^\s+/;Ec=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},Ec.prototype=Error.prototype,_c=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},_c.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getLinePos:function(t){for(var e,n=0,r=0;t>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],o=0,s=i.replace(/\t/g,function(t,n){return n<e[1]&&(o+=1),"  "})+"\n"+new Array(e[1]+o).join(" ")+"^----",a=new Ec(""+t+" at line "+n+" character "+r+":\n"+s);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(zc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},_c.extend=function(t){var e,n,r=this;e=function(t,e){_c.call(this,t,e)},e.prototype=wa(r.prototype);for(n in t)Ta.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=_c.extend,e};var Wc,qc,Hc,$c=_c,Gc=1,Kc=2,Zc=3,Qc=4,Jc=5,Yc=6,Xc=7,th=8,eh=9,nh=10,rh=13,ih=14,oh=15,sh=16,ah=17,uh=18,ch=20,hh=21,lh=22,dh=23,fh=24,ph=25,mh=26,gh=27,vh=30,yh=31,bh=32,wh=33,xh=34,kh=35,_h=36,Eh=40,Ah=50,Sh=51,Ch=52,Th=53,Oh=54,Ph=60,jh=61,Fh=zt,Rh=/^[^\s=]+/,Ih=/^\s+/,Lh=Wt,Nh=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Dh=qt,Mh={t:nh,exclude:!0},Vh="Expected a JavaScript expression",Bh="Expected closing paren",Uh=$t,zh=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Wh=Gt;Wc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,qc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Hc=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var qh,Hh,$h=function(t){return function(e){var n,r,i,o;for(n=e.pos,r='"',i=!1;!i;)o=e.matchPattern(Wc)||e.matchPattern(qc)||e.matchString(t),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=e.matchPattern(Hc),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Gh=$h('"'),Kh=$h("'"),Zh=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Kh(t),t.matchString('"')?{t:hh,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Gh(t),t.matchString("'")?{t:hh,v:n}:(t.pos=e,null)):null},Qh=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Jh=Kt,Yh=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Xh=Zt,tl=Qt,el=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=tl(t),t.allowWhitespace(),t.matchString("}")?{t:dh,m:n}:(t.pos=e,null)):(t.pos=e,null)},nl=Jt,rl=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=nl(t),t.matchString("]")?{t:lh,m:n}:(t.pos=e,null)):(t.pos=e,null)},il=Yt,ol=Xt,sl=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;qh=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Hh=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var al,ul,cl=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,hl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,ll=te,dl=function(t){return il(t)||ol(t)||ll(t)},fl=ee,pl=function(t){var e,n,r,i;if(n=dl(t),!n)return null;for(;n;)if(e=t.pos,r=fl(t))n={t:bh,x:n,r:r};else{if(!t.matchString("("))break;t.allowWhitespace(),i=nl(t),t.allowWhitespace(),t.matchString(")")||t.error(Bh),n={t:Eh,x:n},i&&(n.o=i)}return n};ul=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),r=Tl(n),r||n.error(Vh),{s:t,o:r,t:wh}):null}},function(){var t,e,n,r,i;for(r="! ~ + - typeof".split(" "),i=pl,t=0,e=r.length;e>t;t+=1)n=ul(r[t],i),i=n;al=i}();var ml,gl,vl=al;gl=function(t,e){return function(n){var r,i,o;if(i=e(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),o=e(n),!o)return n.pos=r,i;i={t:_h,s:t,o:[i,o]}}}},function(){var t,e,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=vl,t=0,e=r.length;e>t;t+=1)n=gl(r[t],i),i=n;ml=i}();var yl,bl,wl,xl,kl,_l,El,Al,Sl=ml,Cl=ne,Tl=re,Ol=ie,Pl=se,jl=/^[0-9][1-9]*$/,Fl=ue,Rl=ce,Il=he,Ll=le,Nl=de,Dl=fe,Ml=pe,Vl=/^yield\s*/,Bl=me,Ul=ge,zl=/^\s*else\s*/,Wl=ve,ql=/^\s*elseif\s+/,Hl={each:Ch,"if":Ah,"if-with":Oh,"with":Th,unless:Sh},$l=ye,Gl=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Kl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Zl=new RegExp("^("+Object.keys(Hl).join("|")+")\\b"),Ql=_e,Jl="<!--",Yl="-->";yl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,bl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xl=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(wl).join("|")+"));?","g"),_l=/</g,El=/>/g,Al=/&/g;var Xl,td,ed,nd,rd,id,od,sd=/^\s*\r?\n/,ad=/\r?\n\s*$/,ud=function(t){var e,n,r,i,o;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],Ce(n)&&Te(r)&&Ce(i)&&ad.test(i)&&sd.test(n)&&(t[e-2]=i.replace(ad,"\n"),t[e]=n.replace(sd,"")),Oe(n)&&Ce(r)&&ad.test(r)&&Ce(n.f[0])&&sd.test(n.f[0])&&(t[e-1]=r.replace(ad,"\n"),n.f[0]=n.f[0].replace(sd,"")),Ce(n)&&Oe(r)&&(o=L(r.f),Ce(o)&&ad.test(o)&&sd.test(n)&&(r.f[r.f.length-1]=o.replace(ad,"\n"),t[e]=n.replace(sd,"")));return t},cd=function(t,e,n){var r;e&&(r=t[0],"string"==typeof r&&(r=r.replace(e,""),r?t[0]=r:t.shift())),n&&(r=L(t),"string"==typeof r&&(r=r.replace(n,""),r?t[t.length-1]=r:t.pop()))},hd=Pe,ld=/[ \t\f\r\n]+/g,dd=/^(?:pre|script|style|textarea)$/i,fd=/^[ \t\f\r\n]+/,pd=/[ \t\f\r\n]+$/,md=/^(?:\r\n|\r|\n)/,gd=/(?:\r\n|\r|\n)$/,vd=je,yd=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,bd=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},wd=Fe,xd=/^[^\s"'>\/=]+/,kd=/^[^\s"'=<>`]+/;td={"true":!0,"false":!1,undefined:void 0,"null":null},ed=new RegExp("^(?:"+Object.keys(td).join("|")+")"),nd=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rd=/\$\{([^\}]+)\}/g,id=/^\$\{([^\}]+)\}/,od=/^\s*$/,Xl=$c.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&od.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(id),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(ed))?{v:td[e]}:void 0},function(t){var e;return(e=t.matchPattern(nd))?{v:+e}:void 0},function(t){var e,n=Zh(t);return n&&(e=t.values)?{v:n.v.replace(rd,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Me(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var _d,Ed=function(t,e){var n=new Xl(t,{values:e});return n.result},Ad=Ve,Sd=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Cd=/\)\s*$/;_d=$c.extend({converters:[Tl]});var Td,Od=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Pd=/^[\s\n\/>]/,jd=/^on/,Fd=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Rd=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Id={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Ld={exclude:!0};Td={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Nd,Dd=Be,Md=ze,Vd=We,Bd=/[-/\\^$*+?.()|[\]{}]/g,Ud=qe,zd=/^<!--\s*/,Wd=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,qd=/\s*-->/,Hd=He,$d=/^#\s*partial\s+/,Gd=$e,Kd=Ge,Zd=[Il,Rl,$l,Ml,Dl,Ll],Qd=[Fl],Jd=[Rl,$l,Dl],Yd=void 0,Xd=[Dh,Ql,Dd,Md],tf=[Ud,Hd];Yd=$c.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Zd},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Qd},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:Jd},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Qd}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),hd(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:sa}},converters:[Gd],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var ef,nf,rf,of=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],sf={fromId:Qe,isHashedId:Je,isParsed:Ye,getParseOptions:Xe,createHelper:Ke,parse:Ze},af=sf,uf={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,"function"==typeof r?e.template=r:e.template=rn(r,e))},init:function(t,e,n){var r,i;r="template"in n?n.template:t.prototype.template,"function"==typeof r&&(i=r,r=en(e,i),e._config.template={fn:i,result:r}),r=rn(r,e),e.template=r.t,r.p&&on(e.partials,r.p)},reset:function(t){var e,n=tn(t);return n?(e=rn(n,t),t.template=e.t,on(t.partials,e.p,!0),!0):void 0}},cf=uf;ef=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],nf=function(t,e){this.name=t,this.useDefaults=e},nf.prototype={constructor:nf,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var r,i=this.name,o=n[i];r=wa(t[i]);for(var s in o)r[s]=o[s];e[i]=r},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n}},rf=ef.map(function(t){return new nf(t,"computed"===t)});var hf,lf,df,ff,pf,mf,gf=rf,vf=sn,yf=hn;ff={adapt:Pc,css:Vc,data:Uc,template:cf},df=Object.keys(ua),mf=fn(df.filter(function(t){return!ff[t]})),pf=fn(df.concat(gf.map(function(t){return t.name}))),lf=[].concat(df.filter(function(t){return!gf[t]&&!ff[t]}),gf,ff.data,ff.template,ff.css),hf={extend:function(t,e,n){return ln("extend",t,e,n)},init:function(t,e,n){return ln("init",t,e,n)},reset:function(t){return lf.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:lf};var bf=hf,wf=pn,xf=mn,kf=gn,_f=vn,Ef=yn,Af=bn,Sf=wn,Cf=xn,Tf=kn,Of=_n,Pf=En,jf=An,Ff=function(){return e(this.node)},Rf=function(t){this.type=Gc,this.text=t.template};Rf.prototype={detach:Ff,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Se(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var If=Rf,Lf=Sn,Nf=Cn,Df=function(t,e,n){var r;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,r=uu(t.root,e,t.parentFragment),void 0!=r?this.resolve(r):mu.addUnresolved(this)};Df.prototype={resolve:function(t){this.keypath&&!t&&mu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(E(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||mu.removeUnresolved(this)}};var Mf=Df,Vf=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Bf={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Vf.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,r=Bf[e];if(!r)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(E("@"+r.prefix+Tn(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Ch&&void 0!==(t=Tn(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(E("@"+r.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Tn(n,r)))return this.callback(E("@"+r.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Uf=Vf,zf=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};zf.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(E("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Wf=zf,qf=On;On.resolve=function(t){var e,n,r={};for(e in t.refs)n=t.refs[e],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var Hf,$f=Pn,Gf=jn,Kf={},Zf=Function.prototype.bind;Hf=function(t,e,n,r){var i,o=this;i=t.root,this.root=i,this.parentFragment=e,this.callback=r,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return $f(o,t,function(t){o.resolve(e,t)})}),this.ready=!0,this.bubble()},Hf.prototype={bubble:function(){this.ready&&(this.uniqueString=Rn(this.str,this.keypaths),this.keypath=In(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,r,i,o=this;r=this.keypath,t=this.root.viewmodel.computations[r.str],t?this.root.viewmodel.mark(r):(i=Gf(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=o.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Nn(e,o.root)),e}}),n={deps:this.keypaths.filter(Ln),getter:function(){var t=e.map(Fn);return i.apply(null,t)}},t=this.root.viewmodel.compute(r,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Qf=Hf,Jf=function(t,e,n){var r=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===vh?this.refResolver=$f(this,t.n,function(t){r.resolve(t)}):new Qf(e,n,t,function(t){r.resolve(t)})};Jf.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Yf=Jf,Xf=function(t,e,n){var r,i,o,s,a=this;this.parentFragment=s=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=e.r,this.callback=n,this.unresolved=[],(o=uu(r,i,s))?this.base=o:this.baseResolver=new Mf(this,i,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Yf(t,a,s)}),this.ready=!0,this.bubble()};Xf.prototype={getKeypath:function(){var t=this.members.map(Dn);return!t.every(Mn)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(G)},rebind:function(t,e){var n;if(this.base){var r=this.base.replace(t,e);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=E(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Vn),this.bubble()}};var tp=Xf,ep=Bn,np=Un,rp=zn,ip={getValue:Nf,init:ep,resolve:np,rebind:rp},op=function(t){this.type=Kc,ip.init(this,t)};op.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:ip.resolve,rebind:ip.rebind,detach:Ff,unbind:Lf,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:ip.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&mu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Se(e):e}};var sp=op,ap=Wn,up=qn,cp=Hn,hp=$n,lp=Gn,dp=Kn,fp=Zn,pp=Qn,mp=Jn,gp=function(t,e){ip.rebind.call(this,t,e)},vp=Xn,yp=tr,bp=lr,wp=dr,xp=fr,kp=gr,_p=function(t){this.type=Qc,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Sh,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,ip.init(this,t)};_p.prototype={bubble:ap,detach:up,find:cp,findAll:hp,findAllComponents:lp,findComponent:dp,findNextNode:fp,firstNode:pp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:ip.getValue,shuffle:mp,rebind:gp,render:vp,resolve:ip.resolve,setValue:yp,toString:bp,unbind:wp,unrender:xp,update:kp};var Ep,Ap,Sp=_p,Cp=vr,Tp=yr,Op=br,Pp=wr,jp={};try{la("table").innerHTML="foo"}catch(Ea){Ep=!0,Ap={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Fp=function(t,e,n){var r,i,o,s,a,u=[];if(null!=t&&""!==t){for(Ep&&(i=Ap[e.tagName])?(r=xr("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):e.namespaceURI===ra.svg?(r=xr("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=xr(e.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));s=r.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1);
}return u},Rp=kr,Ip=Er,Lp=Ar,Np=Sr,Dp=Cr,Mp=Tr,Vp=function(t){this.type=Zc,ip.init(this,t)};Vp.prototype={detach:Cp,find:Tp,findAll:Op,firstNode:Pp,getValue:ip.getValue,rebind:ip.rebind,render:Ip,resolve:ip.resolve,setValue:Lp,toString:Np,unbind:Lf,unrender:Dp,update:Mp};var Bp,Up,zp,Wp,qp=Vp,Hp=function(){this.parentFragment.bubble()},$p=Or,Gp=function(t){return this.node?da(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Kp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Zp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Qp=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Jp=Pr,Yp=jr,Xp=Fr,tm=/^true|on|yes|1$/i,em=/^[0-9]+$/,nm=function(t,e){var n,r,i;return i=e.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||tm.test(n)),n=i.lazy,void 0!==n&&(0!==n&&em.test(n)?r.lazy=parseInt(n):r.lazy=0===n||tm.test(n)),r},rm=Rr;Bp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Up="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),zp=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Wp=zp(Bp.concat(Up));var im=function(t){var e=t.toLowerCase();return Wp[e]||e},om=function(t,e){var n,r;if(n=e.indexOf(":"),-1===n||(r=e.substr(0,n),"xmlns"===r))t.name=t.element.namespace!==ra.html?im(e):e;else if(e=e.substring(n+1),t.name=im(e),t.namespace=ra[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'},sm=Ir,am=Lr,um=Nr,cm=Dr,hm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},lm=Mr,dm=Br,fm=Ur,pm=zr,mm=Wr,gm=qr,vm=Hr,ym=$r,bm=Gr,wm=Kr,xm=Zr,km=Qr,_m=Jr,Em=Yr,Am=Xr,Sm=function(t){this.init(t)};Sm.prototype={bubble:rm,init:am,rebind:um,render:cm,toString:lm,unbind:dm,update:Am};var Cm,Tm=Sm,Om=function(t,e){var n,r,i=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(r=new Tm({element:t,name:n,value:e[n],root:t.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(Cm=la("div"));var Pm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new yb({root:t.root,owner:this,template:[e]})};Pm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ra.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=ti(t,this.isSvg),this.attributes.filter(function(t){return ei(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var jm=Pm,Fm=function(t,e){return e?e.map(function(e){return new jm(t,e)}):[]},Rm=function(t){var e,n,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return g("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return g("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var o=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=ni(t))&&(this.resetValue=r,i.formBindings.push(this))};Rm.prototype={handleChange:function(){var t=this;mu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),mu.scheduleTask(function(){return t.attribute.locked=!1}),mu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(N(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Rm.extend=function(t){var e,n=this;return e=function(t){Rm.call(this,t),this.init&&this.init()},e.prototype=wa(n.prototype),r(e.prototype,t),e.extend=Rm.extend,e};var Im,Lm=Rm,Nm=ri;Im=Lm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?oi:Nm,e.addEventListener("change",Nm,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",ii,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Nm,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ii,!1)}});var Dm=Im,Mm=Dm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Vm=Mm,Bm=si,Um={},zm=Lm.extend({name:"checked",init:function(){this.siblings=Bm(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Nm,!1),t.attachEvent&&t.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},handleChange:function(){mu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),mu.end()},getValue:function(){return this.element.node.checked},unbind:function(){N(this.siblings,this)}}),Wm=zm,qm=Lm.extend({name:"name",init:function(){this.siblings=Bm(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Nm,!1),t.attachEvent&&t.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Lm.prototype.handleChange.call(this)},rebound:function(t,e){var n;Lm.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){N(this.siblings,this)}}),Hm=qm,$m=Lm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Bm(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){N(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),o(t)?this.isChecked=F(t,e):this.isChecked=t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Nm,!1),n.attachEvent&&n.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Lm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ai).map(ui)}}),Gm=$m,Km=Lm.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Nm,!1),t.attachEvent&&t.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},getValue:function(){return this.element.node.checked}}),Zm=Km,Qm=Lm.extend({getInitialValue:function(){var t,e,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=i.length,t)){for(;e--;)if(i[e].getAttribute("selected")){n=i[e].getAttribute("value"),r=!0;break}if(!r)for(;++e<t;)if(!i[e].getAttribute("disabled")){n=i[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Nm,!1)},unrender:function(){this.element.node.removeEventListener("change",Nm,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Jm=Qm,Ym=Jm.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Nm,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Nm,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,o;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&R(n,e)||Jm.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Xm=Ym,tg=Lm.extend({render:function(){this.element.node.addEventListener("change",Nm,!1)},unrender:function(){this.element.node.removeEventListener("change",Nm,!1)},getValue:function(){return this.element.node.files}}),eg=tg,ng=Dm.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),rg=ci,ig=li,og=di,sg=fi,ag=pi,ug=/^event(?:\.(.+))?/,cg=yi,hg=bi,lg={},dg={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},fg=xi,pg=ki,mg=_i,gg=Ei,vg=Ai,yg=function(t,e,n){this.init(t,e,n)};yg.prototype={bubble:ig,fire:og,getAction:sg,init:ag,listen:hg,rebind:fg,render:pg,resolve:mg,unbind:gg,unrender:vg};var bg=yg,wg=function(t,e){var n,r,i,o,s=[];for(r in e)if(e.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)o=new bg(t,i[n],e[r]),s.push(o);return s},xg=function(t,e){var n,r,i,o=this;this.element=t,this.root=n=t.root,r=e.n||e,("string"==typeof r||(i=new yb({template:r,root:n,owner:t}),r=i.toString(),i.unbind(),""!==r))&&(e.a?this.params=e.a:e.d&&(this.fragment=new yb({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=v("decorators",n,r),this.fn||l(La(r,"decorator")))};xg.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var kg,_g,Eg,Ag=xg,Sg=Fi,Cg=Ri,Tg=Vi,Og=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Xs?(_g={},Eg=la("div").style,kg=function(t){var e,n,r;if(t=Og(t),!_g[t])if(void 0!==Eg[t])_g[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=oa.length;e--;)if(n=oa[e],void 0!==Eg[n+r]){_g[t]=n+r;break}return _g[t]}):kg=null;var Pg,jg,Fg=kg;Xs?(jg=window.getComputedStyle||_a.getComputedStyle,Pg=function(t){var e,n,r,i,s;if(e=jg(this.node),"string"==typeof t)return s=e[Fg(t)],"0px"===s&&(s=0),s;if(!o(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)i=t[r],s=e[Fg(i)],"0px"===s&&(s=0),n[i]=s;return n}):Pg=null;var Rg=Pg,Ig=function(t,e){var n;if("string"==typeof t)this.node.style[Fg(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Fg(n)]=t[n]);return this},Lg=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(g(La(t.easing,"easing")),e=Bi)):e="function"==typeof t.easing?t.easing:Bi,this.easing=e,this.start=Xa(),this.end=this.start+this.duration,this.running=!0,yu.add(this)};Lg.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Ng,Dg,Mg,Vg,Bg,Ug,zg,Wg,qg=Lg,Hg=new RegExp("^-(?:"+oa.join("|")+")-"),$g=function(t){return t.replace(Hg,"")},Gg=new RegExp("^(?:"+oa.join("|")+")([A-Z])"),Kg=function(t){var e;return t?(Gg.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Zg={},Qg={};Xs?(Dg=la("div").style,function(){void 0!==Dg.transition?(Mg="transition",Vg="transitionend",Bg=!0):void 0!==Dg.webkitTransition?(Mg="webkitTransition",Vg="webkitTransitionEnd",Bg=!0):Bg=!1}(),Mg&&(Ug=Mg+"Duration",zg=Mg+"Property",Wg=Mg+"TimingFunction"),Ng=function(t,e,n,r,i){setTimeout(function(){var o,s,a,u,c;u=function(){s&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},o=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[zg]=r.map(Fg).map(Kg).join(","),t.node.style[Wg]=Kg(n.easing||"linear"),t.node.style[Ug]=n.duration/1e3+"s",c=function(e){var n;n=r.indexOf(Og($g(e.propertyName))),-1!==n&&r.splice(n,1),r.length||(t.node.removeEventListener(Vg,c,!1),a=!0,u())},t.node.addEventListener(Vg,c,!1),setTimeout(function(){for(var i,h,l,d,f,p=r.length,g=[];p--;)d=r[p],i=o+d,Bg&&!Qg[i]&&(t.node.style[Fg(d)]=e[d],Zg[i]||(h=t.getStyle(d),Zg[i]=t.getStyle(d)!=e[d],Qg[i]=!Zg[i],Qg[i]&&(t.node.style[Fg(d)]=h))),(!Bg||Qg[i])&&(void 0===h&&(h=t.getStyle(d)),l=r.indexOf(d),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(l,1),f=/[^\d]*$/.exec(e[d])[0],g.push({name:Fg(d),interpolator:Da(parseFloat(h),parseFloat(e[d])),suffix:f}));g.length?new qg({root:t.root,duration:n.duration,easing:Og(n.easing||""),step:function(e){var n,r;for(r=g.length;r--;)n=g[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){s=!0,u()}}):s=!0,r.length||(t.node.removeEventListener(Vg,c,!1),a=!0,u())},0)},n.delay||0)}):Ng=null;var Jg,Yg,Xg,tv,ev,nv=Ng;if("undefined"!=typeof document){if(Jg="hidden",ev={},Jg in document)Xg="";else for(tv=oa.length;tv--;)Yg=oa[tv],Jg=Yg+"Hidden",Jg in document&&(Xg=Yg);void 0!==Xg?(document.addEventListener(Xg+"visibilitychange",Ui),Ui()):("onfocusout"in document?(document.addEventListener("focusout",zi),document.addEventListener("focusin",Wi)):(window.addEventListener("pagehide",zi),window.addEventListener("blur",zi),window.addEventListener("pageshow",Wi),window.addEventListener("focus",Wi)),ev.hidden=!1)}var rv,iv,ov,sv=ev;Xs?(iv=window.getComputedStyle||_a.getComputedStyle,rv=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(sv.hidden)return this.setStyle(t,e),ov||(ov=su.resolve());"string"==typeof t?(r={},r[t]=e):(r=t,n=e),n||(g('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new su(function(t){var e,o,s,a,u,c,h;if(!n.duration)return i.setStyle(r),void t();for(e=Object.keys(r),o=[],s=iv(i.node),u={},c=e.length;c--;)h=e[c],a=s[Fg(h)],"0px"===a&&(a=0),a!=r[h]&&(o.push(h),i.node.style[Fg(h)]=a);return o.length?void nv(i,r,n,o,t):void t()});return o}):rv=null;var av=rv,uv=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,e)},cv=qi,hv=function(t,e,n){this.init(t,e,n)};hv.prototype={init:Tg,start:cv,getStyle:Rg,setStyle:Ig,animateStyle:av,processParams:uv};var lv,dv,fv=hv,pv=$i;lv=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},dv=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var mv=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Yi).join("")+this.conditionalAttributes.map(Yi).join(""),"option"===this.name&&Qi(this)&&(t+=" selected"),"input"===this.name&&Ji(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Se(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),bl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},gv=Xi,vv=to,yv=function(t){this.init(t)};yv.prototype={bubble:Hp,detach:$p,find:Gp,findAll:Kp,findAllComponents:Zp,findComponent:Qp,findNextNode:Jp,firstNode:Yp,getAttribute:Xp,init:Sg,rebind:Cg,render:pv,toString:mv,unbind:gv,unrender:vv};var bv=yv,wv=/^\s*$/,xv=/^\s*/,kv=function(t){var e,n,r,i;return e=t.split("\n"),n=e[0],void 0!==n&&wv.test(n)&&e.shift(),r=L(e),void 0!==r&&wv.test(r)&&e.pop(),i=e.reduce(no,null),i&&(t=e.map(function(t){return t.replace(i,"")}).join("\n")),t},_v=ro,Ev=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Av='Could not find template for partial "%s"',Sv=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=th,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,ip.init(this,t),this.keypath||((n=_v(this.root,this.name,e))?(Lf.call(this),this.isNamed=!0,this.setTemplate(n)):g(Av,this.name))};Sv.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||rp.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:ip.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=_v(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=_v(this.root,this.name,this.parentFragment))&&(Lf.call(this),this.isNamed=!0),e||g(Av,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&mu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yb({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,r,i;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Gc?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Ev(e,i[0]):e):e},unbind:function(){this.isNamed||Lf.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Cv,Tv,Ov,Pv=Sv,jv=uo,Fv=co,Rv=new nu("detach"),Iv=ho,Lv=lo,Nv=fo,Dv=po,Mv=mo,Vv=go,Bv=function(t,e,n,r){var i=t.root,o=t.keypath;r?i.viewmodel.smartUpdate(o,e,r):i.viewmodel.mark(o)},Uv=[],zv=["pop","push","reverse","shift","sort","splice","unshift"];zv.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,o,s,a;for(i=mc(this,t,n),o=Array.prototype[t].apply(this,arguments),mu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)s=this._ractive.wrappers[a],mu.addRactive(s.root),Bv(s,this,t,i);return mu.end(),this._ractive.setting=!1,o};xa(Uv,t,{value:e})}),Cv={},Cv.__proto__?(Tv=function(t){t.__proto__=Uv},Ov=function(t){t.__proto__=Array.prototype}):(Tv=function(t){var e,n;for(e=zv.length;e--;)n=zv[e],xa(t,n,{value:Uv[n],configurable:!0})},Ov=function(t){var e;for(e=zv.length;e--;)delete t[zv[e]]}),Tv.unpatch=Ov;var Wv,qv,Hv,$v=Tv;Wv={filter:function(t){return o(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new qv(t,e,n)}},qv=function(t,e,n){this.root=t,this.value=e,this.keypath=E(n),e._ractive||(xa(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),$v(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},qv.prototype={get:function(){return this.value},teardown:function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(Hv);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Hv);r.splice(i,1)}}else delete t._ractive,$v.unpatch(this.value)}},Hv="Something went wrong in a rather interesting way";var Gv,Kv,Zv=Wv,Qv=/^\s*[0-9]+\s*$/,Jv=function(t){return Qv.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Gv={filter:function(t,e,n){var r,i;return e?(e=E(e),(r=n.viewmodel.wrapped[e.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(e.parent),o(i)&&/^[0-9]+$/.test(e.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(t,e,n){return new Kv(t,e,n)}},Kv=function(t,e,n){var r,i,o;return n=E(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(o=i.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void vo(this,e,i)},Kv.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,mu.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Jv(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Ea){Gv=!1}var Yv,Xv,ty=Gv;ty&&(Yv={filter:function(t,e,n){return ty.filter(t,e,n)&&Zv.filter(t)},wrap:function(t,e,n){return new Xv(t,e,n)}},Xv=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ty.wrap(t,e,n),this.arrayWrapper=Zv.wrap(t,e,n)},Xv.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ey=Yv,ny=yo,ry={},iy=xo,oy=ko,sy=Ao,ay=Po,uy=jo,cy=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};cy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var hy=cy,ly=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};ly.prototype={constructor:ly,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,i,o;if(!r)for(o=t.length;o--;)if(e=t[o],i=n.viewmodel.get(e),!a(i,n.depValues[e.str]))return n.depValues[e.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(o){m('Failed to compute "%s"',this.key.str),d(o.stack||o),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,r,i,o;for(n=this.softDeps,e=n.length;e--;)r=n[e],-1===t.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(e=t.length;e--;)r=t[e],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,Fo(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(o=new hy(this,r.str),t.splice(e,1),this.unresolvedDeps[r.str]=o,mu.addUnresolved(o)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=t.slice()),i}};var dy=ly,fy=Ro,py={FAILED_LOOKUP:!0},my=Io,gy={},vy=No,yy=Do,by=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};by.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===e){r.splice(i,1);break}this.origin.unregister(this.map(t),e,n)}}};var wy=Mo,xy=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var s,a,u;a=r,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s})},ky=Vo,_y={},Ey=zo,Ay=qo,Sy=Ho,Cy=$o,Ty=Ko,Oy={implicit:!0},Py={noCascade:!0},jy=Qo,Fy=Jo,Ry=function(t){var e,n,r=t.adapt,i=t.data,o=t.ractive,s=t.computed,a=t.mappings;
this.ractive=o,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=wa(null),this.deps={computed:wa(null),"default":wa(null)},this.depsMap={computed:wa(null),"default":wa(null)},this.patternObservers=[],this.specials=wa(null),this.wrapped=wa(null),this.computations=wa(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=wa(null);for(e in a)this.map(E(e),a[e]);if(i)for(e in i)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(i[e]);for(e in s)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(E(e),s[e]);this.ready=!0};Ry.prototype={adapt:ny,applyChanges:sy,capture:ay,clearCache:uy,compute:fy,get:my,init:vy,map:yy,mark:wy,merge:ky,register:Ey,release:Ay,reset:Sy,set:Cy,smartUpdate:Ty,teardown:jy,unregister:Fy};var Iy=Ry;Xo.prototype={constructor:Xo,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?ts(this.queue,e).push(t):es(this,t),delete this.inProcess[t._guid]}};var Ly=Xo,Ny=ns,Dy=/\$\{([^\}]+)\}/g,My=new nu("construct"),Vy=new nu("config"),By=new Ly("init"),Uy=0,zy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Wy=ss,qy=ls;ls.prototype={bubble:function(){this.dirty||(this.dirty=!0,mu.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var Hy=function(t,e,n,i,s){var a,u,c,h,l,d,f={},p={},g={},v=[];for(u=t.parentFragment,c=t.root,s=s||{},r(f,s),s.content=i||[],f[""]=s.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),h=u;h;){if(h.owner.type===sh){l=h.owner.container;break}h=h.parent}return n&&Object.keys(n).forEach(function(e){var r,i,s=n[e];if("string"==typeof s)r=Ed(s),p[e]=r?r.value:s;else if(0===s)p[e]=!0;else{if(!o(s))throw new Error("erm wut");fs(s)?(g[e]={origin:t.root.viewmodel,keypath:void 0},i=ds(t,s[0],function(t){t.isSpecial?d?a.set(e,t.value):(p[e]=t.value,delete g[e]):d?a.viewmodel.mappings[e].resolve(t):g[e].keypath=t})):i=new qy(t,s,function(t){d?a.set(e,t):p[e]=t}),v.push(i)}}),a=wa(e.prototype),Wy(a,{el:null,append:!0,data:p,partials:s,magic:c.magic||e.defaults.magic,modifyArrays:c.modifyArrays,adapt:c.adapt},{parent:c,component:t,container:l,mappings:g,inlinePartials:f,cssIds:u.cssIds}),d=!0,t.resolvers=v,a},$y=ps,Gy=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Ky=gs,Zy=vs,Qy=ys,Jy=bs,Yy=ws,Xy=new nu("teardown"),tb=ks,eb=function(t,e){this.init(t,e)};eb.prototype={detach:Fv,find:Iv,findAll:Lv,findAllComponents:Nv,findComponent:Dv,findNextNode:Mv,firstNode:Vv,init:Ky,rebind:Zy,render:Qy,toString:Jy,unbind:Yy,unrender:tb};var nb=eb,rb=function(t){this.type=eh,this.value=t.template.c};rb.prototype={detach:Ff,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var ib=rb,ob=function(t){var e,n;this.type=sh,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=t.template.n||"",i=e._inlinePartials[r];i||(m('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new yb({owner:this,root:e.parent,template:i,pElement:this.containerFragment.pElement}),o(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],mu.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};ob.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),N(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var sb=ob,ab=function(t){this.declaration=t.template.a};ab.prototype={init:ja,render:ja,unrender:ja,teardown:ja,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ub=ab,cb=_s,hb=As,lb=Ss,db=Cs,fb=Ps,pb=Fs,mb=function(t){this.init(t)};mb.prototype={bubble:wf,detach:xf,find:kf,findAll:_f,findAllComponents:Ef,findComponent:Af,findNextNode:Sf,firstNode:Cf,getArgsList:Of,getNode:Pf,getValue:jf,init:cb,rebind:hb,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:lb,toString:db,unbind:fb,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:pb};var gb,vb,yb=mb,bb=Rs,wb=["template","partials","components","decorators","events"],xb=new nu("reset"),kb=function(t,e){function n(e,r,i){i&&i.partials[t]||e.forEach(function(e){e.type===th&&e.getPartialName()===t&&r.push(e),e.fragment&&n(e.fragment.items,r,i),o(e.fragments)?n(e.fragments,r,i):o(e.items)?n(e.items,r,i):e.type===oh&&e.instance&&n(e.instance.fragment.items,r,e.instance),e.type===Xc&&(o(e.attributes)&&n(e.attributes,r,i),o(e.conditionalAttributes)&&n(e.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[t]=e,r=mu.start(this,!0),i.forEach(function(e){e.value=void 0,e.setValue(t)}),mu.end(),r},_b=Is,Eb=vc("reverse"),Ab=Ls,Sb=vc("shift"),Cb=vc("sort"),Tb=vc("splice"),Ob=Ds,Pb=Ms,jb=new nu("teardown"),Fb=Bs,Rb=Us,Ib=zs,Lb=new nu("unrender"),Nb=vc("unshift"),Db=Ws,Mb=new nu("update"),Vb=qs,Bb={add:Qa,animate:xu,detach:_u,find:Au,findAll:Iu,findAllComponents:Lu,findComponent:Nu,findContainer:Du,findParent:Mu,fire:zu,get:Wu,insert:Hu,merge:Gu,observe:uc,observeOnce:cc,off:dc,on:fc,once:pc,pop:yc,push:bc,render:Sc,reset:bb,resetPartial:kb,resetTemplate:_b,reverse:Eb,set:Ab,shift:Sb,sort:Cb,splice:Tb,subtract:Ob,teardown:Pb,toggle:Fb,toHTML:Rb,toHtml:Rb,unrender:Ib,unshift:Nb,update:Db,updateModel:Vb},Ub=function(t,e,n){return n||$s(t,e)?function(){var n,r="_super"in this,i=this._super;return this._super=e,n=t.apply(this,arguments),r&&(this._super=i),n}:t},zb=Gs,Wb=Js,qb=function(t){var e,n,r={};return t&&(e=t._ractive)?(r.ractive=e.root,r.keypath=e.keypath.str,r.index={},(n=qf(e.proxy.parentFragment))&&(r.index=qf.resolve(n)),r):r};gb=function(t){return this instanceof gb?void Wy(this,t):new gb(t)},vb={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Wb},getNodeInfo:{value:qb},parse:{value:Kd},Promise:{value:su},svg:{value:ia},magic:{value:na},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ca},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Va},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},ka(gb,vb),gb.prototype=r(Bb,ua),gb.prototype.constructor=gb,gb.defaults=gb.prototype;var Hb="function";if(typeof Date.now!==Hb||typeof String.prototype.trim!==Hb||typeof Object.keys!==Hb||typeof Array.prototype.indexOf!==Hb||typeof Array.prototype.forEach!==Hb||typeof Array.prototype.map!==Hb||typeof Array.prototype.filter!==Hb||"undefined"!=typeof window&&typeof window.addEventListener!==Hb)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var $b=gb;return $b})},function(t,e){function n(t,e){var n=new XMLHttpRequest;"withCredentials"in n?n.open("GET",t,!0):"undefined"!=typeof XDomainRequest&&(n=new XDomainRequest,n.open("GET",t)),n.onload=function(){if(!n.status||200===n.status){var t;try{t=JSON.parse(n.responseText)}catch(r){throw r}finally{e(t)}}},n.onerror=function(){},n.onprogress=function(){},n.ontimeout=function(){},setTimeout(function(){n.send()},0)}t.exports=n},function(t,e,n){var r,i;(function(){function n(t){function e(e,n,r,i,o,s){for(;o>=0&&s>o;o+=t){var a=i?i[o]:o;r=n(r,e[a],a,e)}return r}return function(n,r,i,o){r=_(r,o,4);var s=!P(n)&&k.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(i=n[s?s[u]:u],u+=t),e(n,r,i,s,u,a)}}function o(t){return function(e,n,r){n=E(n,r);for(var i=O(e),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(r,i,o){var s=0,a=O(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(p.call(r,s,a),k.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(r[o]===i)return o;return-1}}function a(t,e){var n=L.length,r=t.constructor,i=k.isFunction(r)&&r.prototype||l,o="constructor";for(k.has(t,o)&&!k.contains(e,o)&&e.push(o);n--;)o=L[n],o in t&&t[o]!==i[o]&&!k.contains(e,o)&&e.push(o)}var u=this,c=u._,h=Array.prototype,l=Object.prototype,d=Function.prototype,f=h.push,p=h.slice,m=l.toString,g=l.hasOwnProperty,v=Array.isArray,y=Object.keys,b=d.bind,w=Object.create,x=function(){},k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=k),e._=k,k.VERSION="1.8.3";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return null==t?k.identity:k.isFunction(t)?_(t,e,n):k.isObject(t)?k.matcher(t):k.property(t)};k.iteratee=function(t,e){return E(t,e,1/0)};var A=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;a>u;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},S=function(t){if(!k.isObject(t))return{};if(w)return w(t);x.prototype=t;var e=new x;return x.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,O=C("length"),P=function(t){var e=O(t);return"number"==typeof e&&e>=0&&T>=e};k.each=k.forEach=function(t,e,n){e=_(e,n);var r,i;if(P(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var o=k.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},k.map=k.collect=function(t,e,n){e=E(e,n);for(var r=!P(t)&&k.keys(t),i=(r||t).length,o=Array(i),s=0;i>s;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(t,e,n){var r;return r=P(t)?k.findIndex(t,e,n):k.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},k.filter=k.select=function(t,e,n){var r=[];return e=E(e,n),k.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},k.reject=function(t,e,n){return k.filter(t,k.negate(E(e)),n)},k.every=k.all=function(t,e,n){e=E(e,n);for(var r=!P(t)&&k.keys(t),i=(r||t).length,o=0;i>o;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},k.some=k.any=function(t,e,n){e=E(e,n);for(var r=!P(t)&&k.keys(t),i=(r||t).length,o=0;i>o;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},k.contains=k.includes=k.include=function(t,e,n,r){return P(t)||(t=k.values(t)),("number"!=typeof n||r)&&(n=0),k.indexOf(t,e,n)>=0},k.invoke=function(t,e){var n=p.call(arguments,2),r=k.isFunction(e);return k.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matcher(e))},k.findWhere=function(t,e){return k.find(t,k.matcher(e))},k.max=function(t,e,n){var r,i,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=P(t)?t:k.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],r>o&&(o=r)}else e=E(e,n),k.each(t,function(t,n,r){i=e(t,n,r),(i>s||i===-(1/0)&&o===-(1/0))&&(o=t,s=i)});return o},k.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e&&null!=t){t=P(t)?t:k.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],o>r&&(o=r)}else e=E(e,n),k.each(t,function(t,n,r){i=e(t,n,r),(s>i||i===1/0&&o===1/0)&&(o=t,s=i)});return o},k.shuffle=function(t){for(var e,n=P(t)?t:k.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=k.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},k.sample=function(t,e,n){return null==e||n?(P(t)||(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))},k.sortBy=function(t,e,n){return e=E(e,n),k.pluck(k.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var j=function(t){return function(e,n,r){var i={};return n=E(n,r),k.each(e,function(r,o){var s=n(r,o,e);t(i,r,s)}),i}};k.groupBy=j(function(t,e,n){k.has(t,n)?t[n].push(e):t[n]=[e]}),k.indexBy=j(function(t,e,n){t[n]=e}),k.countBy=j(function(t,e,n){k.has(t,n)?t[n]++:t[n]=1}),k.toArray=function(t){return t?k.isArray(t)?p.call(t):P(t)?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:P(t)?t.length:k.keys(t).length},k.partition=function(t,e,n){e=E(e,n);var r=[],i=[];return k.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:k.initial(t,t.length-e)},k.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:k.rest(t,Math.max(0,t.length-e))},k.rest=k.tail=k.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var F=function(t,e,n,r){for(var i=[],o=0,s=r||0,a=O(t);a>s;s++){var u=t[s];if(P(u)&&(k.isArray(u)||k.isArguments(u))){e||(u=F(u,e,n));var c=0,h=u.length;for(i.length+=h;h>c;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};k.flatten=function(t,e){return F(t,e,!1)},k.without=function(t){return k.difference(t,p.call(arguments,1))},k.uniq=k.unique=function(t,e,n,r){k.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],s=0,a=O(t);a>s;s++){var u=t[s],c=n?n(u,s,t):u;e?(s&&o===c||i.push(u),o=c):n?k.contains(o,c)||(o.push(c),i.push(u)):k.contains(i,u)||i.push(u)}return i},k.union=function(){return k.uniq(F(arguments,!0,!0))},k.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=O(t);i>r;r++){var o=t[r];if(!k.contains(e,o)){for(var s=1;n>s&&k.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},k.difference=function(t){var e=F(arguments,!0,!0,1);return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(t){for(var e=t&&k.max(t,O).length||0,n=Array(e),r=0;e>r;r++)n[r]=k.pluck(t,r);return n},k.object=function(t,e){for(var n={},r=0,i=O(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},k.findIndex=o(1),k.findLastIndex=o(-1),k.sortedIndex=function(t,e,n,r){n=E(n,r,1);for(var i=n(e),o=0,s=O(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},k.indexOf=s(1,k.findIndex,k.sortedIndex),k.lastIndexOf=s(-1,k.findLastIndex),k.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var R=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=S(t.prototype),s=t.apply(o,i);return k.isObject(s)?s:o};k.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,p.call(arguments,1));if(!k.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return R(t,r,e,this,n.concat(p.call(arguments)))};return r},k.partial=function(t){var e=p.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),s=0;i>s;s++)o[s]=e[s]===k?arguments[r++]:e[s];for(;r<arguments.length;)o.push(arguments[r++]);return R(t,n,this,this,o)};return n},k.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=k.bind(t[n],t);return t},k.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return k.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},k.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=k.partial(k.delay,k,1),k.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:k.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var c=k.now();a||n.leading!==!1||(a=c);var h=e-(c-a);return r=this,i=arguments,0>=h||h>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(u,h)),o}},k.debounce=function(t,e,n){var r,i,o,s,a,u=function(){var c=k.now()-s;e>c&&c>=0?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=k.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},k.wrap=function(t,e){return k.partial(e,t)},k.negate=function(t){return function(){return!t.apply(this,arguments)}},k.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},k.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},k.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},k.once=k.partial(k.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(t){if(!k.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return I&&a(t,e),e},k.allKeys=function(t){if(!k.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&a(t,e),e},k.values=function(t){for(var e=k.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},k.mapObject=function(t,e,n){e=E(e,n);for(var r,i=k.keys(t),o=i.length,s={},a=0;o>a;a++)r=i[a],s[r]=e(t[r],r,t);return s},k.pairs=function(t){for(var e=k.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},k.invert=function(t){for(var e={},n=k.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=A(k.allKeys),k.extendOwn=k.assign=A(k.keys),k.findKey=function(t,e,n){e=E(e,n);for(var r,i=k.keys(t),o=0,s=i.length;s>o;o++)if(r=i[o],e(t[r],r,t))return r},k.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;k.isFunction(e)?(i=k.allKeys(s),r=_(e,n)):(i=F(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=i.length;u>a;a++){var c=i[a],h=s[c];r(h,c,s)&&(o[c]=h)}return o},k.omit=function(t,e,n){if(k.isFunction(e))e=k.negate(e);else{var r=k.map(F(arguments,!1,!1,1),String);e=function(t,e){return!k.contains(r,e)}}return k.pick(t,e,n)},k.defaults=A(k.allKeys,!0),k.create=function(t,e){var n=S(t);return e&&k.extendOwn(n,e),n},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t},k.isMatch=function(t,e){var n=k.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var N=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var i=m.call(t);if(i!==m.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!N(t[u],e[u],n,r))return!1}else{var c,h=k.keys(t);if(u=h.length,k.keys(e).length!==u)return!1;for(;u--;)if(c=h[u],!k.has(e,c)||!N(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};k.isEqual=function(t,e){return N(t,e)},k.isEmpty=function(t){return null==t?!0:P(t)&&(k.isArray(t)||k.isString(t)||k.isArguments(t))?0===t.length:0===k.keys(t).length},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=v||function(t){return"[object Array]"===m.call(t)},k.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){k["is"+t]=function(e){return m.call(e)==="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return k.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(t){return"function"==typeof t||!1}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!==+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===m.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return null!=t&&g.call(t,e)},k.noConflict=function(){return u._=c,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.noop=function(){},k.property=C,k.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},k.matcher=k.matches=function(t){return t=k.extendOwn({},t),function(e){return k.isMatch(e,t)}},k.times=function(t,e,n){var r=Array(Math.max(0,t));e=_(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=k.invert(D),V=function(t){var e=function(e){return t[e]},n="(?:"+k.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};k.escape=V(D),k.unescape=V(M),k.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),k.isFunction(r)?r.call(t):r};var B=0;k.uniqueId=function(t){var e=++B+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+z[t]};k.template=function(t,e,n){!e&&n&&(e=n),e=k.defaults({},e,k.templateSettings);var r=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,s,a){return o+=t.slice(i,a).replace(W,q),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(t){return s.call(this,t,k)},c=e.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},k.chain=function(t){var e=k(t);return e._chain=!0,e};var H=function(t,e){return t._chain?k(e).chain():e};k.mixin=function(t){k.each(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),H(this,n.apply(k,t))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=h[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),k.each(["concat","join","slice"],function(t){var e=h[t];k.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return k}.apply(e,r),!(void 0!==i&&(t.exports=i))}).call(this)},function(t,e){function n(){var t=encodeURIComponent("http://gu.com");return window.guardian&&(t=encodeURIComponent(window.guardian.config.page.shortUrl)),t}function r(t,e,n){var r,u=n.number,c=n.title,h="@guardian "+decodeURIComponent(e)+" "+c;"twitter"===t?r=o+encodeURIComponent(h+" ")+i+"#row_"+u:"facebook"===t?r=s+i:"email"===t?r="mailto:?subject="+encodeURIComponent(e)+"&body="+i+"#row_"+u:"google"===t&&(r=a+i+"#row_"+u),window.open(r,t+"share","width=640,height=320")}var i=n();const o="https://twitter.com/intent/tweet?text=",s="https://www.facebook.com/sharer/sharer.php?ref=responsive&u=",a="https://plus.google.com/share?url=";t.exports=r},function(t,e){function n(){t=1,window.guardian&&(t=window.guardian.config.page.webPublicationDate);var t=new Date(t),e="en-gb",n=t.toLocaleString(e,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});return n=n.split(",").join(""),n=n.split(":").join("."),n+=" GMT"}t.exports=n},function(t,e){function n(){var t=encodeURIComponent("http://gu.com");return window.guardian&&(t=encodeURIComponent(window.guardian.config.page.shortUrl)),t}function r(t,e){var n,r=decodeURIComponent(e)+" @guardian ";"twitter"===t?n=o+encodeURIComponent(r+" ")+i:"facebook"===t?n=s+i:"email"===t?n="mailto:?subject="+encodeURIComponent(e)+"&body="+i:"google"===t&&(n=a+i),window.open(n,t+"share","width=640,height=320")}var i=n();const o="https://twitter.com/intent/tweet?text=",s="https://www.facebook.com/sharer/sharer.php?ref=responsive&u=",a="https://plus.google.com/share?url=";t.exports=r},function(t,e){function n(t){return t?t.offsetTop+n(t.offsetParent):0}function r(t){var e=window.pageYOffset,r=n(t),a=r-e,u=0;s(function c(){var t=u/o;window.scrollTo(0,Math.floor(e+a*t*(2-t))),o>u&&(u+=i,s(c))})}const i=15,o=300;for(var s=window.requestAnimationFrame,a=["ms","moz","webkit","o"],u=0;u<a.length&&!s;++u)s=window[a[u]+"RequestAnimationFrame"];s=s||function(t){setTimeout(t,13)},t.exports=r},function(t,e){function n(t){var e,n,r,i=t||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return i&&i.timing&&(e=i.timing.requestStart||i.timing.fetchStart||i.timing.navigationStart,n=i.timing.responseEnd,e&&n&&(r=n-e)),r}function r(){var t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return t&&t.navigation?t.navigation.type===t.navigation.TYPE_RELOAD:!1}function i(){return/(iPad|iPhone|iPod touch)/i.test(navigator.userAgent)}function o(){return/Android/i.test(navigator.userAgent)}function s(){return navigator.mozApps&&!window.locationbar.visible}function a(){return navigator.userAgent.indexOf("FBAN/")>-1}function u(){return navigator.userAgent.indexOf("Twitter for iPhone")>-1}function c(){return/\.t\.co/.test(document.referrer)}function h(){return/\.facebook\.com/.test(document.referrer)}function l(){var t=/socialContext=(facebook|twitter)/.exec(window.location.hash);return null!==t?t[1]:a()||h()?"facebook":u()||c()?"twitter":null}function d(t,e,r){e=e||navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"};var i,o,s=3===e.type||4===e.type||/^[23]g$/.test(e.type);return s?"low":(i=n(t),o="high",r&&(o="unknown"),i&&i>1e3&&(o="medium",i>3e3&&(o="low")),o)}function f(t){t=t.toLowerCase();var e,n=!1,r=/Chrome\/([0-9]+)/i;return r.test(t)&&(e=parseInt(r.exec(t)[1],10),e>=36&&(n=!0)),n?"woff2":t.indexOf("android")>-1?"ttf":"woff"}function p(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function m(){return void 0!==_?_:(window.history&&history.pushState&&(_=!0,window.navigator.userAgent.match(/Android/i)&&(_=!!window.navigator.userAgent.match(/(Chrome|Firefox)/i))),_)}function g(){var t=document.createElement("video"),e={};try{t.canPlayType&&(e.mp4=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return e}function v(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function y(){var t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||r.clientWidth,height:t.innerHeight||n.clientHeight||r.clientHeight}}function b(){function t(t){var n="visible",r="hidden",i={focus:n,focusin:n,pageshow:n,blur:r,focusout:r,pagehide:r};t=t||window.event,A=t.type in i?i[t.type]:this[e]?"hidden":"visible"}var e="hidden";e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t}function w(){return"visible"===A}function x(){return"WebSocket"in window}function k(){var t,e=navigator.userAgent,n=/Windows NT (\d\.\d+)/.exec(e),r="Off";return n&&(t=parseFloat(n[1],10),t>=5.1&&6.1>=t&&(r=/Chrome/.exec(e)&&6>t?"Auto":"Cleartype")),r}var _,E,A=document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState||"visible";E=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],"IE "+(t[1]||"")):"Chrome"===n[1]&&(t=e.match(/\bOPR\/(\d+)/),null!==t)?"Opera "+t[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{browser:n[0],version:n[1]})}(),t.exports={getConnectionSpeed:d,getFontFormatSupport:f,getVideoFormatSupport:g,hasTouchScreen:p,hasPushStateSupport:m,getOrientation:v,getViewport:y,getUserAgent:E,isIOS:i,isAndroid:o,isFireFoxOSApp:s,isFacebookApp:a,isTwitterApp:u,isFacebookReferral:h,isTwitterReferral:c,socialContext:l,isReload:r,initPageVisibility:b,pageVisible:w,hasWebSocket:x,getPageSpeed:n,fontHinting:k()}},function(t,e){function n(){var t,e=document.getElementsByClassName("element element-interactive interactive");return[].forEach.call(e,function(e){t=e.getAttribute("data-alt")}),t}t.exports=n},function(t,e,n){var r;!function(i){"use strict";var o=function(){function t(t,n){var r=e();t.id=r,n&&(S[r]=n),window.parent.postMessage(JSON.stringify(t),"*")}function e(){var t=Math.random().toString(36).substr(2,5);return A+":"+t}function n(){try{return window.self!==window.top}catch(t){return!0}}function r(){var t="body::before, body::after{";t+='content: ".";',t+="height: 0;",t+="margin: 0;",t+="overflow: hidden;",t+="visibility: hidden;",t+="display: block;",t+="clear: both;",t+="}",t+="body{",t+="margin: 0 !important;",t+="display: inline-block !important;",t+="float: left !important;",t+="width: 100% !important;",t+="box-sizing: border-box !important;",t+="}";var e=document.querySelector("head"),n=document.createElement("style");n.appendChild(document.createTextNode(t)),e.appendChild(n)}function i(e){var n={type:"navigate",value:e};t(n)}function o(t){"undefined"==typeof t?c():s(t)}function s(e){var n={type:"set-height",value:e};t(n)}function a(){var t=parseInt(document.body.offsetHeight,10),e=document.defaultView.getComputedStyle(document.body);
return t+=parseInt(e.getPropertyValue("margin-bottom"),10),t+=parseInt(e.getPropertyValue("margin-top"),10)}function u(){var t=document.querySelectorAll("body *"),e=0;return Array.prototype.forEach.call(t,function(t){var n=window.getComputedStyle(t),r=0;n.marginBottom&&!isNaN(parseInt(n.marginBottom),10)&&(r=parseInt(n.marginBottom,10));var i=t.getBoundingClientRect().bottom,o=r+i;o>e&&(e=o)}),Math.ceil(e)}function c(){var t;t=T.absoluteHeight?u():a(),k!==t&&(s(t),k=t)}function h(){setInterval(c,E)}function l(){var t=document.querySelector("body"),e=new _(function(){x(),c()}),n={attributes:!0,childList:!0,characterData:!0,subtree:!0};e.observe(t,n)}function d(t){for(var e in t)t.hasOwnProperty(e)&&(T[e]=t[e]);"undefined"!=typeof AdobeEdge&&"undefined"!=typeof AdobeEdge.bootstrapCallback?AdobeEdge.bootstrapCallback(f):"complete"!==document.readyState?window.addEventListener("load",f,!1):f()}function f(){window.addEventListener("resize",c),x(),_?l():T.enableUpdateInterval===!0&&h(),c()}function p(t){if(t.data){var e;try{e=JSON.parse(t.data)}catch(n){return void 0}e.hasOwnProperty("id")&&S.hasOwnProperty(e.id)&&(S[e.id](e),delete S[e.id])}}function m(e){t({type:"get-position"},e)}function g(e){t({type:"get-location"},e)}function v(e,n){t({type:"scroll-to",x:e,y:n})}function y(){x(),r(),document.body&&getComputedStyle&&(document.documentElement.style.height="",document.body.style.height="",document.querySelector("html").style.overflow="hidden")}function b(t){if(t&&"load"===t.type){var e=t.srcElement,n=C.indexOf(e);-1!==n&&C.splice(n,1),c()}}function w(t){-1===C.indexOf(t)&&(t.addEventListener("load",b),C.push(t))}function x(){for(var t=document.querySelectorAll("img"),e=0;e<t.length;e++){var n=t[e];"IMG"===n.nodeName&&n.src&&n.complete===!1&&4!==n.readyState&&w(n)}}var k,_=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,E=200,A="iframeMessenger",S={},C=[],T={absoluteHeight:!1,enableUpdateInterval:!0};return n()&&(window.addEventListener("load",y,!1),window.addEventListener("message",p,!1)),{resize:o,navigate:i,enableAutoResize:d,scrollTo:v,getLocation:g,getAbsoluteHeight:u,getPositionInformation:m}}();"undefined"!=typeof t&&t.exports?t.exports=o:(r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}("undefined"!=typeof window?window:this)},function(t,e){t.exports='<div class="l-side-margins" id="pageTop">\n	<!-- <pageHeader/> -->\n\n    <filterFeature/>\n    \n	<filters/>\n\n\n\n<div class="gv-wrapper">\n    \n	<backToTop />\n	<metaContainer />\n    <subView />\n\n\n    \n</div>\n\n</div>\n'},function(t,e,n){function r(){}var i=n(1);t.exports=i.extend({isolated:!1,onrender:r,template:n(13)})},function(t,e){t.exports='<div class="dig-slice dig-slice--filters js-top" id="filterAreaBG">\n    <div class="dig-slice__inner"  id="filterArea">\n        <h2 class="dig-slice__inner__left dig-section-title-sub gv-showTablet"> </h2> \n        <div class="dig-slice__inner__main">\n            <div class="gv-highlight-holder" id ="standfirstHolder"> \n               <p class="dig-standfirst">\n                    \n                </p> \n            <div>\n        </div>\n    </div>\n</div>\n\n\n\n '},function(t,e,n){function r(){}var i=n(1);t.exports=i.extend({isolated:!1,onrender:r,template:n(15)})},function(t,e){t.exports='<div class="dig-slice dig-slice--inner" id="featureAreaBG">\n<div class="dig-slice__inner" id="featureArea">\n    <h2 class="dig-slice__inner__left dig-section-title" style="color:white;" id="gvPageSectionHead"> </h2>\n        <div class="dig-slice__inner__main">\n            <div class="dig-slice__inner__graphic">\n                <h1 id="gvPageHead"> </h1>\n               \n\n           \n\n	\n            	\n\n            \n		</div> \n    </div>\n</div>\n</div>    '},function(t,e,n){function r(){}var i=n(1);t.exports=i.extend({isolated:!1,onrender:r,template:n(17)})},function(t,e){t.exports='<div class="fixed-filters-outer hiding" id="fixedFiltersDIV">\n\n<div class="dig-slice dig-slice--filters js-top" id="fixedFiltersBG">\n    <div class="dig-slice__inner gv-hideMobile"  id="fixedFilters">\n        <h2 class="dig-slice__inner__left dig-section-title-sub">Jump to </h2>\n        <div class="dig-slice__inner__main">\n            <ul class="dig-filters js-filters">\n                   \n                {{#each sectionIds:count}} \n                    <li class="dig-filters__filter"> \n                    <a class="dig-filters__filter__link js-filter" href="#" data-section="1"> \n                        <span class="dig-filters__filter__link__circle showing-mobile-only"> \n                            <svg class="hp-summary__toggle__icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path fill="currentColor" d="m 21,15 -5.25,4.5 0,-11.5 -1.5,0 0,11.5 L 9,15 l -0.5,1 5.75,6 1.5,0 5.75,-6 -0.5,-1 0,0 z"></path></svg> \n                        </span> \n\n                        <span class="dig-filters__filter__link__text">{{ count+1 }} to {{ (count+1)*10 }}</span> </a>\n                    </li>\n                {{/each}}    \n\n            </ul>\n        </div>\n    </div>\n</div>\n\n</div>\n\n\n\n\n\n\n\n '},function(t,e,n){function r(){}var i=n(1);t.exports=i.extend({isolated:!1,onrender:r,template:n(19)})},function(t,e){t.exports='<div class="dig-slice__inner dig-meta-container__inner">\n\n\n\n        <div class="dig-slice__inner__main dig-meta-container__inner__main dig-hide-leftCol">\n                <p class="dig-slice__inner dig-date dig-global-date-container" style="padding-left: 0px" id="globalDateContainer">\n                     \n                </p>\n        </div>\n        <div class="dig-slice__inner__left  dig-meta-container__inner__left  dig-show-leftCol">\n\n                <p class="dig-share-container">\n                  <!--   <button class="dig-share js-share" data-network="facebook"></button>\n                    <button class="dig-share js-share" data-network="twitter"></button>\n                    <button class="dig-share js-share" data-network="email"></button> -->\n                </p> \n        </div>\n        <div class="dig-slice__inner__left  dig-meta-container__inner__right">\n\n                <span class="dig-share-container">\n                    <button class="dig-share js-share"id="jsGlobalFb" data-network="facebook"></button>\n                    <button class="dig-share js-share"id="jsGlobalTwitter" data-network="twitter"></button>\n                    <button class="dig-share js-share" id="jsGlobalEmail" data-network="email"></button>\n                </span> \n            </div>\n         <div class="dig-slice__inner__main dig-meta-container__inner__main dig-show-leftCol">\n                <p class="dig-slice__inner dig-date dig-global-date-container" style="padding-left: 0px" id="globalDateContainer">\n                     date is here\n                </p>\n        </div>\n\n        <div class="dig-meta-container__line">\n\n        </div>\n\n\n</div>\n            \n  '},function(t,e,n){function r(){}var i=n(1);t.exports=i.extend({isolated:!1,onrender:r,template:n(21)})},function(t,e){t.exports='<table class="gv-table">\n	<!-- <thead>\n		<tr>\n			<th>Title</th>\n			<th>Release</th>\n		</tr>\n	</thead> -->\n	\n	<tbody>\n		\n		{{#each entries:count}} \n			<tr class="entry-main-row" id="row_{{ count+1 }}">\n				<!-- <td>\n				<div style="height:60px; width:60px; floatt:left; background: url(\'{{ authorImagePath }}\'); background-size: cover; background-repeat:no-repeat; border-radius:50%;"></div>\n			</td> -->\n				<td class="entry-head">\n					<div class="gv-portrait-holder" style="background: url(\'{{ authorImagePath }}\') no-repeat; background-size: cover;"> </div>\n\n					<div class="gv-el-header-holder">\n						<a href="#row_{{ count+1 }}" class="gv-book-item-head" style="color:{{ bandInfo.colorBand }};">{{{ title }}} </a>\n						<br/><p class="entry-subhead">{{{ subHeader }}}</p>\n					</div>	\n\n				</td>\n			</tr>\n			\n\n			<tr class="entry-detail-row" id="EntryDetail_{{ count }}">\n				\n					<td class="entry-detail">\n										{{#if (imgPath!==\'\')}}\n												<!-- <div class="gv-image-holder" style="background: url(\'{{ imgPath }}\') no-repeat; background-size: cover;">\n\n													<div class="gv-portrait-holder"  style="height:60px; width:60px; background: url(\'{{ authorImagePath }}\') no-repeat; background-size: cover;"> \n\n												</div>-->\n\n												<div class="gv-img-holder-no-bg"><img src="{{imgPath}}" alt="" class="gv-image-book-cover"/></div>\n										{{ /if }}\n								<div class="gv-desc-holder">\n								<!--  triple tash to render as html -->\n								<p>{{{ text }}}</p>\n\n									\n								</div>\n\n									\n\n								<div class="gv-item-social-holder">\n\n\n									<p class="dig-share-container">\n\n										{{#if (buyBookLink)}}\n											<span class="gv-buy-book-button" id="buyBtn_{{ count }}">buy the book\n\n												<span class="gv-right-button-arrow">\n													<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">\n														<path d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"></path>\n												</svg>\n												</span>\n\n											</span>\n									{{ /if }}\n\n										<span class="dig-share-float-span">\n							                <button class="dig-share atom-share" data-hierarchy="sub-facebook" data-network="facebook" id="fb_{{ count }}"></button>\n							                <button class="dig-share atom-share" data-hierarchy="sub-twitter"  data-network="twitter"  id="tw_{{ count }}"></button>\n							                <button class="dig-share atom-share"  data-hierarchy="sub-email" data-network="email"  id="em_{{ count }}"></button>\n						            	</span>\n						                \n									\n								\n					            	</p>\n\n					            </div>\n\n						<div class="mobile-back-top">\n									<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14">\n						<path fill="currentColor" d="M0.5,7 L5.75,2.5 L5.75,14 L7.25,14 L7.25,2.5 L12.5,7 L13,6 L7.25,0 L5.75,6e-17 L0,6 L0.5,7 L0.5,7 Z"></path></svg> \n			\n\n							<a class="backToTop">Back To Top</a>\n\n					</td>	\n			</tr>	\n\n			<tr class="entry-seperator">\n				\n				<td class="entry-seperator" style="padding:{{ bandInfo.typeSize / 4 }}em"></td>\n			</tr>	\n\n		{{/each}}\n\n	</tbody>\n	\n</table>'},function(t,e,n){function r(){}var i=n(1);t.exports=i.extend({isolated:!1,onrender:r,template:n(23)})},function(t,e){t.exports='<div class="dig-slice hiding" id="backToTop">\n<div class="dig-slice__back-to-top  gv-hideMobile">\n\n	<div class="dig-slice__inner__left">\n	\n			<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14">\n				<path fill="currentColor" d="M0.5,7 L5.75,2.5 L5.75,14 L7.25,14 L7.25,2.5 L12.5,7 L13,6 L7.25,0 L5.75,6e-17 L0,6 L0.5,7 L0.5,7 Z"></path></svg> \n\n\n		<a class="backToTop">Back to top</a>\n	</div>\n</div>\n\n</div>\n'}])});